var Yh=Object.defineProperty;var Xh=(e,t,n)=>t in e?Yh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var re=(e,t,n)=>(Xh(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Zh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tf={exports:{}},Ao={},nf={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Si=Symbol.for("react.element"),Jh=Symbol.for("react.portal"),ep=Symbol.for("react.fragment"),tp=Symbol.for("react.strict_mode"),np=Symbol.for("react.profiler"),rp=Symbol.for("react.provider"),ip=Symbol.for("react.context"),op=Symbol.for("react.forward_ref"),sp=Symbol.for("react.suspense"),lp=Symbol.for("react.memo"),ap=Symbol.for("react.lazy"),yu=Symbol.iterator;function up(e){return e===null||typeof e!="object"?null:(e=yu&&e[yu]||e["@@iterator"],typeof e=="function"?e:null)}var rf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},of=Object.assign,sf={};function wr(e,t,n){this.props=e,this.context=t,this.refs=sf,this.updater=n||rf}wr.prototype.isReactComponent={};wr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lf(){}lf.prototype=wr.prototype;function ca(e,t,n){this.props=e,this.context=t,this.refs=sf,this.updater=n||rf}var fa=ca.prototype=new lf;fa.constructor=ca;of(fa,wr.prototype);fa.isPureReactComponent=!0;var wu=Array.isArray,af=Object.prototype.hasOwnProperty,da={current:null},uf={key:!0,ref:!0,__self:!0,__source:!0};function cf(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)af.call(t,r)&&!uf.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Si,type:e,key:o,ref:s,props:i,_owner:da.current}}function cp(e,t){return{$$typeof:Si,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ha(e){return typeof e=="object"&&e!==null&&e.$$typeof===Si}function fp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Su=/\/+/g;function Cs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fp(""+e.key):t.toString(36)}function Gi(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Si:case Jh:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Cs(s,0):r,wu(i)?(n="",e!=null&&(n=e.replace(Su,"$&/")+"/"),Gi(i,t,n,"",function(u){return u})):i!=null&&(ha(i)&&(i=cp(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Su,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",wu(e))for(var l=0;l<e.length;l++){o=e[l];var a=r+Cs(o,l);s+=Gi(o,t,n,a,i)}else if(a=up(e),typeof a=="function")for(e=a.call(e),l=0;!(o=e.next()).done;)o=o.value,a=r+Cs(o,l++),s+=Gi(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Di(e,t,n){if(e==null)return e;var r=[],i=0;return Gi(e,r,"","",function(o){return t.call(n,o,i++)}),r}function dp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},Yi={transition:null},hp={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Yi,ReactCurrentOwner:da};function ff(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:Di,forEach:function(e,t,n){Di(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Di(e,function(){t++}),t},toArray:function(e){return Di(e,function(t){return t})||[]},only:function(e){if(!ha(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=wr;Q.Fragment=ep;Q.Profiler=np;Q.PureComponent=ca;Q.StrictMode=tp;Q.Suspense=sp;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hp;Q.act=ff;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=of({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=da.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)af.call(t,a)&&!uf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Si,type:e.type,key:i,ref:o,props:r,_owner:s}};Q.createContext=function(e){return e={$$typeof:ip,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rp,_context:e},e.Consumer=e};Q.createElement=cf;Q.createFactory=function(e){var t=cf.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:op,render:e}};Q.isValidElement=ha;Q.lazy=function(e){return{$$typeof:ap,_payload:{_status:-1,_result:e},_init:dp}};Q.memo=function(e,t){return{$$typeof:lp,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=Yi.transition;Yi.transition={};try{e()}finally{Yi.transition=t}};Q.unstable_act=ff;Q.useCallback=function(e,t){return Be.current.useCallback(e,t)};Q.useContext=function(e){return Be.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};Q.useEffect=function(e,t){return Be.current.useEffect(e,t)};Q.useId=function(){return Be.current.useId()};Q.useImperativeHandle=function(e,t,n){return Be.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return Be.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return Be.current.useReducer(e,t,n)};Q.useRef=function(e){return Be.current.useRef(e)};Q.useState=function(e){return Be.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return Be.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return Be.current.useTransition()};Q.version="18.3.1";nf.exports=Q;var _=nf.exports;const df=Zh(_);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp=_,gp=Symbol.for("react.element"),mp=Symbol.for("react.fragment"),vp=Object.prototype.hasOwnProperty,yp=pp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wp={key:!0,ref:!0,__self:!0,__source:!0};function hf(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)vp.call(t,r)&&!wp.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:gp,type:e,key:o,ref:s,props:i,_owner:yp.current}}Ao.Fragment=mp;Ao.jsx=hf;Ao.jsxs=hf;tf.exports=Ao;var c=tf.exports,al={},pf={exports:{}},ot={},gf={exports:{}},mf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,U){var W=L.length;L.push(U);e:for(;0<W;){var te=W-1>>>1,se=L[te];if(0<i(se,U))L[te]=U,L[W]=se,W=te;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var U=L[0],W=L.pop();if(W!==U){L[0]=W;e:for(var te=0,se=L.length,lt=se>>>1;te<lt;){var $e=2*(te+1)-1,Et=L[$e],ze=$e+1,V=L[ze];if(0>i(Et,W))ze<se&&0>i(V,Et)?(L[te]=V,L[ze]=W,te=ze):(L[te]=Et,L[$e]=W,te=$e);else if(ze<se&&0>i(V,W))L[te]=V,L[ze]=W,te=ze;else break e}}return U}function i(L,U){var W=L.sortIndex-U.sortIndex;return W!==0?W:L.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],h=1,d=null,f=3,y=!1,m=!1,w=!1,O=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(L){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=L)r(u),U.sortIndex=U.expirationTime,t(a,U);else break;U=n(u)}}function E(L){if(w=!1,v(L),!m)if(n(a)!==null)m=!0,pe(D);else{var U=n(u);U!==null&&ye(E,U.startTime-L)}}function D(L,U){m=!1,w&&(w=!1,g(M),M=-1),y=!0;var W=f;try{for(v(U),d=n(a);d!==null&&(!(d.expirationTime>U)||L&&!z());){var te=d.callback;if(typeof te=="function"){d.callback=null,f=d.priorityLevel;var se=te(d.expirationTime<=U);U=e.unstable_now(),typeof se=="function"?d.callback=se:d===n(a)&&r(a),v(U)}else r(a);d=n(a)}if(d!==null)var lt=!0;else{var $e=n(u);$e!==null&&ye(E,$e.startTime-U),lt=!1}return lt}finally{d=null,f=W,y=!1}}var j=!1,I=null,M=-1,q=5,P=-1;function z(){return!(e.unstable_now()-P<q)}function H(){if(I!==null){var L=e.unstable_now();P=L;var U=!0;try{U=I(!0,L)}finally{U?G():(j=!1,I=null)}}else j=!1}var G;if(typeof p=="function")G=function(){p(H)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,he=ae.port2;ae.port1.onmessage=H,G=function(){he.postMessage(null)}}else G=function(){O(H,0)};function pe(L){I=L,j||(j=!0,G())}function ye(L,U){M=O(function(){L(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){m||y||(m=!0,pe(D))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var W=f;f=U;try{return L()}finally{f=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,U){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=f;f=L;try{return U()}finally{f=W}},e.unstable_scheduleCallback=function(L,U,W){var te=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?te+W:te):W=te,L){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=W+se,L={id:h++,callback:U,priorityLevel:L,startTime:W,expirationTime:se,sortIndex:-1},W>te?(L.sortIndex=W,t(u,L),n(a)===null&&L===n(u)&&(w?(g(M),M=-1):w=!0,ye(E,W-te))):(L.sortIndex=se,t(a,L),m||y||(m=!0,pe(D))),L},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(L){var U=f;return function(){var W=f;f=U;try{return L.apply(this,arguments)}finally{f=W}}}})(mf);gf.exports=mf;var Sp=gf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp=_,it=Sp;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vf=new Set,ti={};function Mn(e,t){fr(e,t),fr(e+"Capture",t)}function fr(e,t){for(ti[e]=t,e=0;e<t.length;e++)vf.add(t[e])}var At=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ul=Object.prototype.hasOwnProperty,Cp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xu={},Cu={};function kp(e){return ul.call(Cu,e)?!0:ul.call(xu,e)?!1:Cp.test(e)?Cu[e]=!0:(xu[e]=!0,!1)}function Ep(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _p(e,t,n,r){if(t===null||typeof t>"u"||Ep(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function We(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pe[e]=new We(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pe[t]=new We(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pe[e]=new We(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pe[e]=new We(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pe[e]=new We(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pe[e]=new We(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pe[e]=new We(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pe[e]=new We(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pe[e]=new We(e,5,!1,e.toLowerCase(),null,!1,!1)});var pa=/[\-:]([a-z])/g;function ga(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pa,ga);Pe[t]=new We(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pa,ga);Pe[t]=new We(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pa,ga);Pe[t]=new We(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pe[e]=new We(e,1,!1,e.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pe[e]=new We(e,1,!1,e.toLowerCase(),null,!0,!0)});function ma(e,t,n,r){var i=Pe.hasOwnProperty(t)?Pe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_p(t,n,i,r)&&(n=null),r||i===null?kp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ut=xp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ni=Symbol.for("react.element"),Qn=Symbol.for("react.portal"),qn=Symbol.for("react.fragment"),va=Symbol.for("react.strict_mode"),cl=Symbol.for("react.profiler"),yf=Symbol.for("react.provider"),wf=Symbol.for("react.context"),ya=Symbol.for("react.forward_ref"),fl=Symbol.for("react.suspense"),dl=Symbol.for("react.suspense_list"),wa=Symbol.for("react.memo"),qt=Symbol.for("react.lazy"),Sf=Symbol.for("react.offscreen"),ku=Symbol.iterator;function Nr(e){return e===null||typeof e!="object"?null:(e=ku&&e[ku]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Object.assign,ks;function zr(e){if(ks===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ks=t&&t[1]||""}return`
`+ks+e}var Es=!1;function _s(e,t){if(!e||Es)return"";Es=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{Es=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zr(e):""}function Op(e){switch(e.tag){case 5:return zr(e.type);case 16:return zr("Lazy");case 13:return zr("Suspense");case 19:return zr("SuspenseList");case 0:case 2:case 15:return e=_s(e.type,!1),e;case 11:return e=_s(e.type.render,!1),e;case 1:return e=_s(e.type,!0),e;default:return""}}function hl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qn:return"Fragment";case Qn:return"Portal";case cl:return"Profiler";case va:return"StrictMode";case fl:return"Suspense";case dl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wf:return(e.displayName||"Context")+".Consumer";case yf:return(e._context.displayName||"Context")+".Provider";case ya:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wa:return t=e.displayName||null,t!==null?t:hl(e.type)||"Memo";case qt:t=e._payload,e=e._init;try{return hl(e(t))}catch{}}return null}function Tp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hl(t);case 8:return t===va?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Dp(e){var t=xf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ji(e){e._valueTracker||(e._valueTracker=Dp(e))}function Cf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pl(e,t){var n=t.checked;return fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Eu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=fn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kf(e,t){t=t.checked,t!=null&&ma(e,"checked",t,!1)}function gl(e,t){kf(e,t);var n=fn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ml(e,t.type,n):t.hasOwnProperty("defaultValue")&&ml(e,t.type,fn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _u(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ml(e,t,n){(t!=="number"||fo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Fr=Array.isArray;function or(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+fn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function vl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ou(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(Fr(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fn(n)}}function Ef(e,t){var n=fn(t.value),r=fn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Tu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _f(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_f(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pi,Of=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pi=Pi||document.createElement("div"),Pi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ni(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Np=["Webkit","ms","Moz","O"];Object.keys(Wr).forEach(function(e){Np.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wr[t]=Wr[e]})});function Tf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Wr.hasOwnProperty(e)&&Wr[e]?(""+t).trim():t+"px"}function Df(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Tf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var jp=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wl(e,t){if(t){if(jp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function Sl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xl=null;function Sa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cl=null,sr=null,lr=null;function Du(e){if(e=ki(e)){if(typeof Cl!="function")throw Error(N(280));var t=e.stateNode;t&&(t=Ho(t),Cl(e.stateNode,e.type,t))}}function Nf(e){sr?lr?lr.push(e):lr=[e]:sr=e}function jf(){if(sr){var e=sr,t=lr;if(lr=sr=null,Du(e),t)for(e=0;e<t.length;e++)Du(t[e])}}function Pf(e,t){return e(t)}function Lf(){}var Os=!1;function If(e,t,n){if(Os)return e(t,n);Os=!0;try{return Pf(e,t,n)}finally{Os=!1,(sr!==null||lr!==null)&&(Lf(),jf())}}function ri(e,t){var n=e.stateNode;if(n===null)return null;var r=Ho(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var kl=!1;if(At)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){kl=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{kl=!1}function Pp(e,t,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var Vr=!1,ho=null,po=!1,El=null,Lp={onError:function(e){Vr=!0,ho=e}};function Ip(e,t,n,r,i,o,s,l,a){Vr=!1,ho=null,Pp.apply(Lp,arguments)}function Mp(e,t,n,r,i,o,s,l,a){if(Ip.apply(this,arguments),Vr){if(Vr){var u=ho;Vr=!1,ho=null}else throw Error(N(198));po||(po=!0,El=u)}}function bn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Mf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nu(e){if(bn(e)!==e)throw Error(N(188))}function bp(e){var t=e.alternate;if(!t){if(t=bn(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Nu(i),e;if(o===r)return Nu(i),t;o=o.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function bf(e){return e=bp(e),e!==null?Rf(e):null}function Rf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Rf(e);if(t!==null)return t;e=e.sibling}return null}var Af=it.unstable_scheduleCallback,ju=it.unstable_cancelCallback,Rp=it.unstable_shouldYield,Ap=it.unstable_requestPaint,ge=it.unstable_now,$p=it.unstable_getCurrentPriorityLevel,xa=it.unstable_ImmediatePriority,$f=it.unstable_UserBlockingPriority,go=it.unstable_NormalPriority,zp=it.unstable_LowPriority,zf=it.unstable_IdlePriority,$o=null,Nt=null;function Fp(e){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot($o,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:Bp,Up=Math.log,Hp=Math.LN2;function Bp(e){return e>>>=0,e===0?32:31-(Up(e)/Hp|0)|0}var Li=64,Ii=4194304;function Ur(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Ur(l):(o&=s,o!==0&&(r=Ur(o)))}else s=n&~i,s!==0?r=Ur(s):o!==0&&(r=Ur(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-xt(t),i=1<<n,r|=e[n],t&=~i;return r}function Wp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-xt(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=Wp(l,t)):a<=t&&(e.expiredLanes|=l),o&=~l}}function _l(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ff(){var e=Li;return Li<<=1,!(Li&4194240)&&(Li=64),e}function Ts(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xt(t),e[t]=n}function Kp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-xt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Ca(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ee=0;function Uf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Hf,ka,Bf,Wf,Vf,Ol=!1,Mi=[],tn=null,nn=null,rn=null,ii=new Map,oi=new Map,Xt=[],Qp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pu(e,t){switch(e){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":nn=null;break;case"mouseover":case"mouseout":rn=null;break;case"pointerover":case"pointerout":ii.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oi.delete(t.pointerId)}}function Pr(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ki(t),t!==null&&ka(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function qp(e,t,n,r,i){switch(t){case"focusin":return tn=Pr(tn,e,t,n,r,i),!0;case"dragenter":return nn=Pr(nn,e,t,n,r,i),!0;case"mouseover":return rn=Pr(rn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ii.set(o,Pr(ii.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,oi.set(o,Pr(oi.get(o)||null,e,t,n,r,i)),!0}return!1}function Kf(e){var t=Cn(e.target);if(t!==null){var n=bn(t);if(n!==null){if(t=n.tag,t===13){if(t=Mf(n),t!==null){e.blockedOn=t,Vf(e.priority,function(){Bf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Tl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);xl=r,n.target.dispatchEvent(r),xl=null}else return t=ki(n),t!==null&&ka(t),e.blockedOn=n,!1;t.shift()}return!0}function Lu(e,t,n){Xi(e)&&n.delete(t)}function Gp(){Ol=!1,tn!==null&&Xi(tn)&&(tn=null),nn!==null&&Xi(nn)&&(nn=null),rn!==null&&Xi(rn)&&(rn=null),ii.forEach(Lu),oi.forEach(Lu)}function Lr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ol||(Ol=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,Gp)))}function si(e){function t(i){return Lr(i,e)}if(0<Mi.length){Lr(Mi[0],e);for(var n=1;n<Mi.length;n++){var r=Mi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(tn!==null&&Lr(tn,e),nn!==null&&Lr(nn,e),rn!==null&&Lr(rn,e),ii.forEach(t),oi.forEach(t),n=0;n<Xt.length;n++)r=Xt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Xt.length&&(n=Xt[0],n.blockedOn===null);)Kf(n),n.blockedOn===null&&Xt.shift()}var ar=Ut.ReactCurrentBatchConfig,vo=!0;function Yp(e,t,n,r){var i=ee,o=ar.transition;ar.transition=null;try{ee=1,Ea(e,t,n,r)}finally{ee=i,ar.transition=o}}function Xp(e,t,n,r){var i=ee,o=ar.transition;ar.transition=null;try{ee=4,Ea(e,t,n,r)}finally{ee=i,ar.transition=o}}function Ea(e,t,n,r){if(vo){var i=Tl(e,t,n,r);if(i===null)As(e,t,r,yo,n),Pu(e,r);else if(qp(i,e,t,n,r))r.stopPropagation();else if(Pu(e,r),t&4&&-1<Qp.indexOf(e)){for(;i!==null;){var o=ki(i);if(o!==null&&Hf(o),o=Tl(e,t,n,r),o===null&&As(e,t,r,yo,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else As(e,t,r,null,n)}}var yo=null;function Tl(e,t,n,r){if(yo=null,e=Sa(r),e=Cn(e),e!==null)if(t=bn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Mf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yo=e,null}function Qf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($p()){case xa:return 1;case $f:return 4;case go:case zp:return 16;case zf:return 536870912;default:return 16}default:return 16}}var Jt=null,_a=null,Zi=null;function qf(){if(Zi)return Zi;var e,t=_a,n=t.length,r,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Zi=i.slice(e,1<r?1-r:void 0)}function Ji(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bi(){return!0}function Iu(){return!1}function st(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?bi:Iu,this.isPropagationStopped=Iu,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),t}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=st(Sr),Ci=fe({},Sr,{view:0,detail:0}),Zp=st(Ci),Ds,Ns,Ir,zo=fe({},Ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ir&&(Ir&&e.type==="mousemove"?(Ds=e.screenX-Ir.screenX,Ns=e.screenY-Ir.screenY):Ns=Ds=0,Ir=e),Ds)},movementY:function(e){return"movementY"in e?e.movementY:Ns}}),Mu=st(zo),Jp=fe({},zo,{dataTransfer:0}),eg=st(Jp),tg=fe({},Ci,{relatedTarget:0}),js=st(tg),ng=fe({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),rg=st(ng),ig=fe({},Sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),og=st(ig),sg=fe({},Sr,{data:0}),bu=st(sg),lg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ag={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ug={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ug[e])?!!t[e]:!1}function Ta(){return cg}var fg=fe({},Ci,{key:function(e){if(e.key){var t=lg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ji(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ag[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(e){return e.type==="keypress"?Ji(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ji(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dg=st(fg),hg=fe({},zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ru=st(hg),pg=fe({},Ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),gg=st(pg),mg=fe({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),vg=st(mg),yg=fe({},zo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wg=st(yg),Sg=[9,13,27,32],Da=At&&"CompositionEvent"in window,Kr=null;At&&"documentMode"in document&&(Kr=document.documentMode);var xg=At&&"TextEvent"in window&&!Kr,Gf=At&&(!Da||Kr&&8<Kr&&11>=Kr),Au=String.fromCharCode(32),$u=!1;function Yf(e,t){switch(e){case"keyup":return Sg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gn=!1;function Cg(e,t){switch(e){case"compositionend":return Xf(t);case"keypress":return t.which!==32?null:($u=!0,Au);case"textInput":return e=t.data,e===Au&&$u?null:e;default:return null}}function kg(e,t){if(Gn)return e==="compositionend"||!Da&&Yf(e,t)?(e=qf(),Zi=_a=Jt=null,Gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gf&&t.locale!=="ko"?null:t.data;default:return null}}var Eg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Eg[e.type]:t==="textarea"}function Zf(e,t,n,r){Nf(r),t=wo(t,"onChange"),0<t.length&&(n=new Oa("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qr=null,li=null;function _g(e){ud(e,0)}function Fo(e){var t=Zn(e);if(Cf(t))return e}function Og(e,t){if(e==="change")return t}var Jf=!1;if(At){var Ps;if(At){var Ls="oninput"in document;if(!Ls){var Fu=document.createElement("div");Fu.setAttribute("oninput","return;"),Ls=typeof Fu.oninput=="function"}Ps=Ls}else Ps=!1;Jf=Ps&&(!document.documentMode||9<document.documentMode)}function Uu(){Qr&&(Qr.detachEvent("onpropertychange",ed),li=Qr=null)}function ed(e){if(e.propertyName==="value"&&Fo(li)){var t=[];Zf(t,li,e,Sa(e)),If(_g,t)}}function Tg(e,t,n){e==="focusin"?(Uu(),Qr=t,li=n,Qr.attachEvent("onpropertychange",ed)):e==="focusout"&&Uu()}function Dg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fo(li)}function Ng(e,t){if(e==="click")return Fo(t)}function jg(e,t){if(e==="input"||e==="change")return Fo(t)}function Pg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:Pg;function ai(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ul.call(t,i)||!kt(e[i],t[i]))return!1}return!0}function Hu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bu(e,t){var n=Hu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hu(n)}}function td(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?td(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nd(){for(var e=window,t=fo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fo(e.document)}return t}function Na(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Lg(e){var t=nd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&td(n.ownerDocument.documentElement,n)){if(r!==null&&Na(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Bu(n,o);var s=Bu(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ig=At&&"documentMode"in document&&11>=document.documentMode,Yn=null,Dl=null,qr=null,Nl=!1;function Wu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nl||Yn==null||Yn!==fo(r)||(r=Yn,"selectionStart"in r&&Na(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qr&&ai(qr,r)||(qr=r,r=wo(Dl,"onSelect"),0<r.length&&(t=new Oa("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Yn)))}function Ri(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Xn={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionend:Ri("Transition","TransitionEnd")},Is={},rd={};At&&(rd=document.createElement("div").style,"AnimationEvent"in window||(delete Xn.animationend.animation,delete Xn.animationiteration.animation,delete Xn.animationstart.animation),"TransitionEvent"in window||delete Xn.transitionend.transition);function Uo(e){if(Is[e])return Is[e];if(!Xn[e])return e;var t=Xn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rd)return Is[e]=t[n];return e}var id=Uo("animationend"),od=Uo("animationiteration"),sd=Uo("animationstart"),ld=Uo("transitionend"),ad=new Map,Vu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hn(e,t){ad.set(e,t),Mn(t,[e])}for(var Ms=0;Ms<Vu.length;Ms++){var bs=Vu[Ms],Mg=bs.toLowerCase(),bg=bs[0].toUpperCase()+bs.slice(1);hn(Mg,"on"+bg)}hn(id,"onAnimationEnd");hn(od,"onAnimationIteration");hn(sd,"onAnimationStart");hn("dblclick","onDoubleClick");hn("focusin","onFocus");hn("focusout","onBlur");hn(ld,"onTransitionEnd");fr("onMouseEnter",["mouseout","mouseover"]);fr("onMouseLeave",["mouseout","mouseover"]);fr("onPointerEnter",["pointerout","pointerover"]);fr("onPointerLeave",["pointerout","pointerover"]);Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function Ku(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Mp(r,t,void 0,e),e.currentTarget=null}function ud(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;Ku(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;Ku(i,l,u),o=a}}}if(po)throw e=El,po=!1,El=null,e}function ie(e,t){var n=t[Ml];n===void 0&&(n=t[Ml]=new Set);var r=e+"__bubble";n.has(r)||(cd(t,e,2,!1),n.add(r))}function Rs(e,t,n){var r=0;t&&(r|=4),cd(n,e,r,t)}var Ai="_reactListening"+Math.random().toString(36).slice(2);function ui(e){if(!e[Ai]){e[Ai]=!0,vf.forEach(function(n){n!=="selectionchange"&&(Rg.has(n)||Rs(n,!1,e),Rs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ai]||(t[Ai]=!0,Rs("selectionchange",!1,t))}}function cd(e,t,n,r){switch(Qf(t)){case 1:var i=Yp;break;case 4:i=Xp;break;default:i=Ea}n=i.bind(null,t,n,e),i=void 0,!kl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function As(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Cn(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}If(function(){var u=o,h=Sa(n),d=[];e:{var f=ad.get(e);if(f!==void 0){var y=Oa,m=e;switch(e){case"keypress":if(Ji(n)===0)break e;case"keydown":case"keyup":y=dg;break;case"focusin":m="focus",y=js;break;case"focusout":m="blur",y=js;break;case"beforeblur":case"afterblur":y=js;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Mu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=eg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=gg;break;case id:case od:case sd:y=rg;break;case ld:y=vg;break;case"scroll":y=Zp;break;case"wheel":y=wg;break;case"copy":case"cut":case"paste":y=og;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Ru}var w=(t&4)!==0,O=!w&&e==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var p=u,v;p!==null;){v=p;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,g!==null&&(E=ri(p,g),E!=null&&w.push(ci(p,E,v)))),O)break;p=p.return}0<w.length&&(f=new y(f,m,null,n,h),d.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&n!==xl&&(m=n.relatedTarget||n.fromElement)&&(Cn(m)||m[$t]))break e;if((y||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,y?(m=n.relatedTarget||n.toElement,y=u,m=m?Cn(m):null,m!==null&&(O=bn(m),m!==O||m.tag!==5&&m.tag!==6)&&(m=null)):(y=null,m=u),y!==m)){if(w=Mu,E="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(w=Ru,E="onPointerLeave",g="onPointerEnter",p="pointer"),O=y==null?f:Zn(y),v=m==null?f:Zn(m),f=new w(E,p+"leave",y,n,h),f.target=O,f.relatedTarget=v,E=null,Cn(h)===u&&(w=new w(g,p+"enter",m,n,h),w.target=v,w.relatedTarget=O,E=w),O=E,y&&m)t:{for(w=y,g=m,p=0,v=w;v;v=Vn(v))p++;for(v=0,E=g;E;E=Vn(E))v++;for(;0<p-v;)w=Vn(w),p--;for(;0<v-p;)g=Vn(g),v--;for(;p--;){if(w===g||g!==null&&w===g.alternate)break t;w=Vn(w),g=Vn(g)}w=null}else w=null;y!==null&&Qu(d,f,y,w,!1),m!==null&&O!==null&&Qu(d,O,m,w,!0)}}e:{if(f=u?Zn(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var D=Og;else if(zu(f))if(Jf)D=jg;else{D=Dg;var j=Tg}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=Ng);if(D&&(D=D(e,u))){Zf(d,D,n,h);break e}j&&j(e,f,u),e==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&ml(f,"number",f.value)}switch(j=u?Zn(u):window,e){case"focusin":(zu(j)||j.contentEditable==="true")&&(Yn=j,Dl=u,qr=null);break;case"focusout":qr=Dl=Yn=null;break;case"mousedown":Nl=!0;break;case"contextmenu":case"mouseup":case"dragend":Nl=!1,Wu(d,n,h);break;case"selectionchange":if(Ig)break;case"keydown":case"keyup":Wu(d,n,h)}var I;if(Da)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Gn?Yf(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Gf&&n.locale!=="ko"&&(Gn||M!=="onCompositionStart"?M==="onCompositionEnd"&&Gn&&(I=qf()):(Jt=h,_a="value"in Jt?Jt.value:Jt.textContent,Gn=!0)),j=wo(u,M),0<j.length&&(M=new bu(M,e,null,n,h),d.push({event:M,listeners:j}),I?M.data=I:(I=Xf(n),I!==null&&(M.data=I)))),(I=xg?Cg(e,n):kg(e,n))&&(u=wo(u,"onBeforeInput"),0<u.length&&(h=new bu("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=I))}ud(d,t)})}function ci(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wo(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ri(e,n),o!=null&&r.unshift(ci(e,o,i)),o=ri(e,t),o!=null&&r.push(ci(e,o,i))),e=e.return}return r}function Vn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qu(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=ri(n,o),a!=null&&s.unshift(ci(n,a,l))):i||(a=ri(n,o),a!=null&&s.push(ci(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Ag=/\r\n?/g,$g=/\u0000|\uFFFD/g;function qu(e){return(typeof e=="string"?e:""+e).replace(Ag,`
`).replace($g,"")}function $i(e,t,n){if(t=qu(t),qu(e)!==t&&n)throw Error(N(425))}function So(){}var jl=null,Pl=null;function Ll(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Il=typeof setTimeout=="function"?setTimeout:void 0,zg=typeof clearTimeout=="function"?clearTimeout:void 0,Gu=typeof Promise=="function"?Promise:void 0,Fg=typeof queueMicrotask=="function"?queueMicrotask:typeof Gu<"u"?function(e){return Gu.resolve(null).then(e).catch(Ug)}:Il;function Ug(e){setTimeout(function(){throw e})}function $s(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),si(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);si(t)}function on(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var xr=Math.random().toString(36).slice(2),Dt="__reactFiber$"+xr,fi="__reactProps$"+xr,$t="__reactContainer$"+xr,Ml="__reactEvents$"+xr,Hg="__reactListeners$"+xr,Bg="__reactHandles$"+xr;function Cn(e){var t=e[Dt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$t]||n[Dt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Yu(e);e!==null;){if(n=e[Dt])return n;e=Yu(e)}return t}e=n,n=e.parentNode}return null}function ki(e){return e=e[Dt]||e[$t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function Ho(e){return e[fi]||null}var bl=[],Jn=-1;function pn(e){return{current:e}}function oe(e){0>Jn||(e.current=bl[Jn],bl[Jn]=null,Jn--)}function ne(e,t){Jn++,bl[Jn]=e.current,e.current=t}var dn={},Ae=pn(dn),Ge=pn(!1),Dn=dn;function dr(e,t){var n=e.type.contextTypes;if(!n)return dn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ye(e){return e=e.childContextTypes,e!=null}function xo(){oe(Ge),oe(Ae)}function Xu(e,t,n){if(Ae.current!==dn)throw Error(N(168));ne(Ae,t),ne(Ge,n)}function fd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(N(108,Tp(e)||"Unknown",i));return fe({},n,r)}function Co(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dn,Dn=Ae.current,ne(Ae,e),ne(Ge,Ge.current),!0}function Zu(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=fd(e,t,Dn),r.__reactInternalMemoizedMergedChildContext=e,oe(Ge),oe(Ae),ne(Ae,e)):oe(Ge),ne(Ge,n)}var It=null,Bo=!1,zs=!1;function dd(e){It===null?It=[e]:It.push(e)}function Wg(e){Bo=!0,dd(e)}function gn(){if(!zs&&It!==null){zs=!0;var e=0,t=ee;try{var n=It;for(ee=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}It=null,Bo=!1}catch(i){throw It!==null&&(It=It.slice(e+1)),Af(xa,gn),i}finally{ee=t,zs=!1}}return null}var er=[],tr=0,ko=null,Eo=0,ut=[],ct=0,Nn=null,Mt=1,bt="";function Sn(e,t){er[tr++]=Eo,er[tr++]=ko,ko=e,Eo=t}function hd(e,t,n){ut[ct++]=Mt,ut[ct++]=bt,ut[ct++]=Nn,Nn=e;var r=Mt;e=bt;var i=32-xt(r)-1;r&=~(1<<i),n+=1;var o=32-xt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Mt=1<<32-xt(t)+i|n<<i|r,bt=o+e}else Mt=1<<o|n<<i|r,bt=e}function ja(e){e.return!==null&&(Sn(e,1),hd(e,1,0))}function Pa(e){for(;e===ko;)ko=er[--tr],er[tr]=null,Eo=er[--tr],er[tr]=null;for(;e===Nn;)Nn=ut[--ct],ut[ct]=null,bt=ut[--ct],ut[ct]=null,Mt=ut[--ct],ut[ct]=null}var rt=null,nt=null,le=!1,St=null;function pd(e,t){var n=dt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ju(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rt=e,nt=on(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rt=e,nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Nn!==null?{id:Mt,overflow:bt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=dt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,rt=e,nt=null,!0):!1;default:return!1}}function Rl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Al(e){if(le){var t=nt;if(t){var n=t;if(!Ju(e,t)){if(Rl(e))throw Error(N(418));t=on(n.nextSibling);var r=rt;t&&Ju(e,t)?pd(r,n):(e.flags=e.flags&-4097|2,le=!1,rt=e)}}else{if(Rl(e))throw Error(N(418));e.flags=e.flags&-4097|2,le=!1,rt=e}}}function ec(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rt=e}function zi(e){if(e!==rt)return!1;if(!le)return ec(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ll(e.type,e.memoizedProps)),t&&(t=nt)){if(Rl(e))throw gd(),Error(N(418));for(;t;)pd(e,t),t=on(t.nextSibling)}if(ec(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){nt=on(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}nt=null}}else nt=rt?on(e.stateNode.nextSibling):null;return!0}function gd(){for(var e=nt;e;)e=on(e.nextSibling)}function hr(){nt=rt=null,le=!1}function La(e){St===null?St=[e]:St.push(e)}var Vg=Ut.ReactCurrentBatchConfig;function Mr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function Fi(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tc(e){var t=e._init;return t(e._payload)}function md(e){function t(g,p){if(e){var v=g.deletions;v===null?(g.deletions=[p],g.flags|=16):v.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=un(g,p),g.index=0,g.sibling=null,g}function o(g,p,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<p?(g.flags|=2,p):v):(g.flags|=2,p)):(g.flags|=1048576,p)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,p,v,E){return p===null||p.tag!==6?(p=Ks(v,g.mode,E),p.return=g,p):(p=i(p,v),p.return=g,p)}function a(g,p,v,E){var D=v.type;return D===qn?h(g,p,v.props.children,E,v.key):p!==null&&(p.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===qt&&tc(D)===p.type)?(E=i(p,v.props),E.ref=Mr(g,p,v),E.return=g,E):(E=so(v.type,v.key,v.props,null,g.mode,E),E.ref=Mr(g,p,v),E.return=g,E)}function u(g,p,v,E){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Qs(v,g.mode,E),p.return=g,p):(p=i(p,v.children||[]),p.return=g,p)}function h(g,p,v,E,D){return p===null||p.tag!==7?(p=On(v,g.mode,E,D),p.return=g,p):(p=i(p,v),p.return=g,p)}function d(g,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ks(""+p,g.mode,v),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ni:return v=so(p.type,p.key,p.props,null,g.mode,v),v.ref=Mr(g,null,p),v.return=g,v;case Qn:return p=Qs(p,g.mode,v),p.return=g,p;case qt:var E=p._init;return d(g,E(p._payload),v)}if(Fr(p)||Nr(p))return p=On(p,g.mode,v,null),p.return=g,p;Fi(g,p)}return null}function f(g,p,v,E){var D=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return D!==null?null:l(g,p,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ni:return v.key===D?a(g,p,v,E):null;case Qn:return v.key===D?u(g,p,v,E):null;case qt:return D=v._init,f(g,p,D(v._payload),E)}if(Fr(v)||Nr(v))return D!==null?null:h(g,p,v,E,null);Fi(g,v)}return null}function y(g,p,v,E,D){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(v)||null,l(p,g,""+E,D);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ni:return g=g.get(E.key===null?v:E.key)||null,a(p,g,E,D);case Qn:return g=g.get(E.key===null?v:E.key)||null,u(p,g,E,D);case qt:var j=E._init;return y(g,p,v,j(E._payload),D)}if(Fr(E)||Nr(E))return g=g.get(v)||null,h(p,g,E,D,null);Fi(p,E)}return null}function m(g,p,v,E){for(var D=null,j=null,I=p,M=p=0,q=null;I!==null&&M<v.length;M++){I.index>M?(q=I,I=null):q=I.sibling;var P=f(g,I,v[M],E);if(P===null){I===null&&(I=q);break}e&&I&&P.alternate===null&&t(g,I),p=o(P,p,M),j===null?D=P:j.sibling=P,j=P,I=q}if(M===v.length)return n(g,I),le&&Sn(g,M),D;if(I===null){for(;M<v.length;M++)I=d(g,v[M],E),I!==null&&(p=o(I,p,M),j===null?D=I:j.sibling=I,j=I);return le&&Sn(g,M),D}for(I=r(g,I);M<v.length;M++)q=y(I,g,M,v[M],E),q!==null&&(e&&q.alternate!==null&&I.delete(q.key===null?M:q.key),p=o(q,p,M),j===null?D=q:j.sibling=q,j=q);return e&&I.forEach(function(z){return t(g,z)}),le&&Sn(g,M),D}function w(g,p,v,E){var D=Nr(v);if(typeof D!="function")throw Error(N(150));if(v=D.call(v),v==null)throw Error(N(151));for(var j=D=null,I=p,M=p=0,q=null,P=v.next();I!==null&&!P.done;M++,P=v.next()){I.index>M?(q=I,I=null):q=I.sibling;var z=f(g,I,P.value,E);if(z===null){I===null&&(I=q);break}e&&I&&z.alternate===null&&t(g,I),p=o(z,p,M),j===null?D=z:j.sibling=z,j=z,I=q}if(P.done)return n(g,I),le&&Sn(g,M),D;if(I===null){for(;!P.done;M++,P=v.next())P=d(g,P.value,E),P!==null&&(p=o(P,p,M),j===null?D=P:j.sibling=P,j=P);return le&&Sn(g,M),D}for(I=r(g,I);!P.done;M++,P=v.next())P=y(I,g,M,P.value,E),P!==null&&(e&&P.alternate!==null&&I.delete(P.key===null?M:P.key),p=o(P,p,M),j===null?D=P:j.sibling=P,j=P);return e&&I.forEach(function(H){return t(g,H)}),le&&Sn(g,M),D}function O(g,p,v,E){if(typeof v=="object"&&v!==null&&v.type===qn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ni:e:{for(var D=v.key,j=p;j!==null;){if(j.key===D){if(D=v.type,D===qn){if(j.tag===7){n(g,j.sibling),p=i(j,v.props.children),p.return=g,g=p;break e}}else if(j.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===qt&&tc(D)===j.type){n(g,j.sibling),p=i(j,v.props),p.ref=Mr(g,j,v),p.return=g,g=p;break e}n(g,j);break}else t(g,j);j=j.sibling}v.type===qn?(p=On(v.props.children,g.mode,E,v.key),p.return=g,g=p):(E=so(v.type,v.key,v.props,null,g.mode,E),E.ref=Mr(g,p,v),E.return=g,g=E)}return s(g);case Qn:e:{for(j=v.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(g,p.sibling),p=i(p,v.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=Qs(v,g.mode,E),p.return=g,g=p}return s(g);case qt:return j=v._init,O(g,p,j(v._payload),E)}if(Fr(v))return m(g,p,v,E);if(Nr(v))return w(g,p,v,E);Fi(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,v),p.return=g,g=p):(n(g,p),p=Ks(v,g.mode,E),p.return=g,g=p),s(g)):n(g,p)}return O}var pr=md(!0),vd=md(!1),_o=pn(null),Oo=null,nr=null,Ia=null;function Ma(){Ia=nr=Oo=null}function ba(e){var t=_o.current;oe(_o),e._currentValue=t}function $l(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ur(e,t){Oo=e,Ia=nr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qe=!0),e.firstContext=null)}function pt(e){var t=e._currentValue;if(Ia!==e)if(e={context:e,memoizedValue:t,next:null},nr===null){if(Oo===null)throw Error(N(308));nr=e,Oo.dependencies={lanes:0,firstContext:e}}else nr=nr.next=e;return t}var kn=null;function Ra(e){kn===null?kn=[e]:kn.push(e)}function yd(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Ra(t)):(n.next=i.next,i.next=n),t.interleaved=n,zt(e,r)}function zt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Gt=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,zt(e,n)}return i=r.interleaved,i===null?(t.next=t,Ra(r)):(t.next=i.next,i.next=t),r.interleaved=t,zt(e,n)}function eo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ca(e,n)}}function nc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function To(e,t,n,r){var i=e.updateQueue;Gt=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==s&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=a))}if(o!==null){var d=i.baseState;s=0,h=u=a=null,l=o;do{var f=l.lane,y=l.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,w=l;switch(f=t,y=n,w.tag){case 1:if(m=w.payload,typeof m=="function"){d=m.call(y,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,f=typeof m=="function"?m.call(y,d,f):m,f==null)break e;d=fe({},d,f);break e;case 2:Gt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=y,a=d):h=h.next=y,s|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(h===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Pn|=s,e.lanes=s,e.memoizedState=d}}function rc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var Ei={},jt=pn(Ei),di=pn(Ei),hi=pn(Ei);function En(e){if(e===Ei)throw Error(N(174));return e}function $a(e,t){switch(ne(hi,t),ne(di,e),ne(jt,Ei),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yl(t,e)}oe(jt),ne(jt,t)}function gr(){oe(jt),oe(di),oe(hi)}function Sd(e){En(hi.current);var t=En(jt.current),n=yl(t,e.type);t!==n&&(ne(di,e),ne(jt,n))}function za(e){di.current===e&&(oe(jt),oe(di))}var ue=pn(0);function Do(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fs=[];function Fa(){for(var e=0;e<Fs.length;e++)Fs[e]._workInProgressVersionPrimary=null;Fs.length=0}var to=Ut.ReactCurrentDispatcher,Us=Ut.ReactCurrentBatchConfig,jn=0,ce=null,xe=null,Oe=null,No=!1,Gr=!1,pi=0,Kg=0;function Ie(){throw Error(N(321))}function Ua(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kt(e[n],t[n]))return!1;return!0}function Ha(e,t,n,r,i,o){if(jn=o,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,to.current=e===null||e.memoizedState===null?Yg:Xg,e=n(r,i),Gr){o=0;do{if(Gr=!1,pi=0,25<=o)throw Error(N(301));o+=1,Oe=xe=null,t.updateQueue=null,to.current=Zg,e=n(r,i)}while(Gr)}if(to.current=jo,t=xe!==null&&xe.next!==null,jn=0,Oe=xe=ce=null,No=!1,t)throw Error(N(300));return e}function Ba(){var e=pi!==0;return pi=0,e}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?ce.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function gt(){if(xe===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var t=Oe===null?ce.memoizedState:Oe.next;if(t!==null)Oe=t,xe=e;else{if(e===null)throw Error(N(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},Oe===null?ce.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function gi(e,t){return typeof t=="function"?t(e):t}function Hs(e){var t=gt(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=xe,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var h=u.lane;if((jn&h)===h)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,s=r):a=a.next=d,ce.lanes|=h,Pn|=h}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,kt(r,t.memoizedState)||(qe=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,ce.lanes|=o,Pn|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Bs(e){var t=gt(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);kt(o,t.memoizedState)||(qe=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xd(){}function Cd(e,t){var n=ce,r=gt(),i=t(),o=!kt(r.memoizedState,i);if(o&&(r.memoizedState=i,qe=!0),r=r.queue,Wa(_d.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,mi(9,Ed.bind(null,n,r,i,t),void 0,null),Te===null)throw Error(N(349));jn&30||kd(n,t,i)}return i}function kd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ed(e,t,n,r){t.value=n,t.getSnapshot=r,Od(t)&&Td(e)}function _d(e,t,n){return n(function(){Od(t)&&Td(e)})}function Od(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kt(e,n)}catch{return!0}}function Td(e){var t=zt(e,1);t!==null&&Ct(t,e,1,-1)}function ic(e){var t=Tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:e},t.queue=e,e=e.dispatch=Gg.bind(null,ce,e),[t.memoizedState,e]}function mi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Dd(){return gt().memoizedState}function no(e,t,n,r){var i=Tt();ce.flags|=e,i.memoizedState=mi(1|t,n,void 0,r===void 0?null:r)}function Wo(e,t,n,r){var i=gt();r=r===void 0?null:r;var o=void 0;if(xe!==null){var s=xe.memoizedState;if(o=s.destroy,r!==null&&Ua(r,s.deps)){i.memoizedState=mi(t,n,o,r);return}}ce.flags|=e,i.memoizedState=mi(1|t,n,o,r)}function oc(e,t){return no(8390656,8,e,t)}function Wa(e,t){return Wo(2048,8,e,t)}function Nd(e,t){return Wo(4,2,e,t)}function jd(e,t){return Wo(4,4,e,t)}function Pd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ld(e,t,n){return n=n!=null?n.concat([e]):null,Wo(4,4,Pd.bind(null,t,e),n)}function Va(){}function Id(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ua(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Md(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ua(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function bd(e,t,n){return jn&21?(kt(n,t)||(n=Ff(),ce.lanes|=n,Pn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qe=!0),e.memoizedState=n)}function Qg(e,t){var n=ee;ee=n!==0&&4>n?n:4,e(!0);var r=Us.transition;Us.transition={};try{e(!1),t()}finally{ee=n,Us.transition=r}}function Rd(){return gt().memoizedState}function qg(e,t,n){var r=an(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ad(e))$d(t,n);else if(n=yd(e,t,n,r),n!==null){var i=He();Ct(n,e,r,i),zd(n,t,r)}}function Gg(e,t,n){var r=an(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ad(e))$d(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,kt(l,s)){var a=t.interleaved;a===null?(i.next=i,Ra(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=yd(e,t,i,r),n!==null&&(i=He(),Ct(n,e,r,i),zd(n,t,r))}}function Ad(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function $d(e,t){Gr=No=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ca(e,n)}}var jo={readContext:pt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},Yg={readContext:pt,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:oc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,no(4194308,4,Pd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return no(4194308,4,e,t)},useInsertionEffect:function(e,t){return no(4,2,e,t)},useMemo:function(e,t){var n=Tt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Tt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qg.bind(null,ce,e),[r.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:ic,useDebugValue:Va,useDeferredValue:function(e){return Tt().memoizedState=e},useTransition:function(){var e=ic(!1),t=e[0];return e=Qg.bind(null,e[1]),Tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ce,i=Tt();if(le){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),Te===null)throw Error(N(349));jn&30||kd(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,oc(_d.bind(null,r,o,e),[e]),r.flags|=2048,mi(9,Ed.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Tt(),t=Te.identifierPrefix;if(le){var n=bt,r=Mt;n=(r&~(1<<32-xt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=pi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Kg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xg={readContext:pt,useCallback:Id,useContext:pt,useEffect:Wa,useImperativeHandle:Ld,useInsertionEffect:Nd,useLayoutEffect:jd,useMemo:Md,useReducer:Hs,useRef:Dd,useState:function(){return Hs(gi)},useDebugValue:Va,useDeferredValue:function(e){var t=gt();return bd(t,xe.memoizedState,e)},useTransition:function(){var e=Hs(gi)[0],t=gt().memoizedState;return[e,t]},useMutableSource:xd,useSyncExternalStore:Cd,useId:Rd,unstable_isNewReconciler:!1},Zg={readContext:pt,useCallback:Id,useContext:pt,useEffect:Wa,useImperativeHandle:Ld,useInsertionEffect:Nd,useLayoutEffect:jd,useMemo:Md,useReducer:Bs,useRef:Dd,useState:function(){return Bs(gi)},useDebugValue:Va,useDeferredValue:function(e){var t=gt();return xe===null?t.memoizedState=e:bd(t,xe.memoizedState,e)},useTransition:function(){var e=Bs(gi)[0],t=gt().memoizedState;return[e,t]},useMutableSource:xd,useSyncExternalStore:Cd,useId:Rd,unstable_isNewReconciler:!1};function yt(e,t){if(e&&e.defaultProps){t=fe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function zl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:fe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vo={isMounted:function(e){return(e=e._reactInternals)?bn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=He(),i=an(e),o=Rt(r,i);o.payload=t,n!=null&&(o.callback=n),t=sn(e,o,i),t!==null&&(Ct(t,e,i,r),eo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=He(),i=an(e),o=Rt(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=sn(e,o,i),t!==null&&(Ct(t,e,i,r),eo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=He(),r=an(e),i=Rt(n,r);i.tag=2,t!=null&&(i.callback=t),t=sn(e,i,r),t!==null&&(Ct(t,e,r,n),eo(t,e,r))}};function sc(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!ai(n,r)||!ai(i,o):!0}function Fd(e,t,n){var r=!1,i=dn,o=t.contextType;return typeof o=="object"&&o!==null?o=pt(o):(i=Ye(t)?Dn:Ae.current,r=t.contextTypes,o=(r=r!=null)?dr(e,i):dn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function lc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function Fl(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Aa(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=pt(o):(o=Ye(t)?Dn:Ae.current,i.context=dr(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(zl(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Vo.enqueueReplaceState(i,i.state,null),To(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function mr(e,t){try{var n="",r=t;do n+=Op(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Ws(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ul(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Jg=typeof WeakMap=="function"?WeakMap:Map;function Ud(e,t,n){n=Rt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Lo||(Lo=!0,Xl=r),Ul(e,t)},n}function Hd(e,t,n){n=Rt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ul(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ul(e,t),typeof r!="function"&&(ln===null?ln=new Set([this]):ln.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function ac(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Jg;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=h0.bind(null,e,t,n),t.then(e,e))}function uc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cc(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Rt(-1,1),t.tag=2,sn(n,t,1))),n.lanes|=1),e)}var e0=Ut.ReactCurrentOwner,qe=!1;function Ue(e,t,n,r){t.child=e===null?vd(t,null,n,r):pr(t,e.child,n,r)}function fc(e,t,n,r,i){n=n.render;var o=t.ref;return ur(t,i),r=Ha(e,t,n,r,o,i),n=Ba(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ft(e,t,i)):(le&&n&&ja(t),t.flags|=1,Ue(e,t,r,i),t.child)}function dc(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Ja(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Bd(e,t,o,r,i)):(e=so(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ai,n(s,r)&&e.ref===t.ref)return Ft(e,t,i)}return t.flags|=1,e=un(o,r),e.ref=t.ref,e.return=t,t.child=e}function Bd(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(ai(o,r)&&e.ref===t.ref)if(qe=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(qe=!0);else return t.lanes=e.lanes,Ft(e,t,i)}return Hl(e,t,n,r,i)}function Wd(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(ir,tt),tt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ne(ir,tt),tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ne(ir,tt),tt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ne(ir,tt),tt|=r;return Ue(e,t,i,n),t.child}function Vd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Hl(e,t,n,r,i){var o=Ye(n)?Dn:Ae.current;return o=dr(t,o),ur(t,i),n=Ha(e,t,n,r,o,i),r=Ba(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ft(e,t,i)):(le&&r&&ja(t),t.flags|=1,Ue(e,t,n,i),t.child)}function hc(e,t,n,r,i){if(Ye(n)){var o=!0;Co(t)}else o=!1;if(ur(t,i),t.stateNode===null)ro(e,t),Fd(t,n,r),Fl(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=pt(u):(u=Ye(n)?Dn:Ae.current,u=dr(t,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&lc(t,s,r,u),Gt=!1;var f=t.memoizedState;s.state=f,To(t,r,s,i),a=t.memoizedState,l!==r||f!==a||Ge.current||Gt?(typeof h=="function"&&(zl(t,n,h,r),a=t.memoizedState),(l=Gt||sc(t,n,l,r,f,a,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,wd(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:yt(t.type,l),s.props=u,d=t.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=pt(a):(a=Ye(n)?Dn:Ae.current,a=dr(t,a));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==d||f!==a)&&lc(t,s,r,a),Gt=!1,f=t.memoizedState,s.state=f,To(t,r,s,i);var m=t.memoizedState;l!==d||f!==m||Ge.current||Gt?(typeof y=="function"&&(zl(t,n,y,r),m=t.memoizedState),(u=Gt||sc(t,n,u,r,f,m,a)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Bl(e,t,n,r,o,i)}function Bl(e,t,n,r,i,o){Vd(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Zu(t,n,!1),Ft(e,t,o);r=t.stateNode,e0.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=pr(t,e.child,null,o),t.child=pr(t,null,l,o)):Ue(e,t,l,o),t.memoizedState=r.state,i&&Zu(t,n,!0),t.child}function Kd(e){var t=e.stateNode;t.pendingContext?Xu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xu(e,t.context,!1),$a(e,t.containerInfo)}function pc(e,t,n,r,i){return hr(),La(i),t.flags|=256,Ue(e,t,n,r),t.child}var Wl={dehydrated:null,treeContext:null,retryLane:0};function Vl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qd(e,t,n){var r=t.pendingProps,i=ue.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ne(ue,i&1),e===null)return Al(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=qo(s,r,0,null),e=On(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Vl(n),t.memoizedState=Wl,e):Ka(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return t0(e,t,s,r,l,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=un(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=un(l,o):(o=On(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Vl(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Wl,r}return o=e.child,e=o.sibling,r=un(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ka(e,t){return t=qo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ui(e,t,n,r){return r!==null&&La(r),pr(t,e.child,null,n),e=Ka(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function t0(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Ws(Error(N(422))),Ui(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=qo({mode:"visible",children:r.children},i,0,null),o=On(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&pr(t,e.child,null,s),t.child.memoizedState=Vl(s),t.memoizedState=Wl,o);if(!(t.mode&1))return Ui(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(N(419)),r=Ws(o,r,void 0),Ui(e,t,s,r)}if(l=(s&e.childLanes)!==0,qe||l){if(r=Te,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,zt(e,i),Ct(r,e,i,-1))}return Za(),r=Ws(Error(N(421))),Ui(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=p0.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,nt=on(i.nextSibling),rt=t,le=!0,St=null,e!==null&&(ut[ct++]=Mt,ut[ct++]=bt,ut[ct++]=Nn,Mt=e.id,bt=e.overflow,Nn=t),t=Ka(t,r.children),t.flags|=4096,t)}function gc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),$l(e.return,t,n)}function Vs(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qd(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ue(e,t,r.children,n),r=ue.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gc(e,n,t);else if(e.tag===19)gc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ne(ue,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Do(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Do(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,o);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ro(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ft(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=un(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=un(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function n0(e,t,n){switch(t.tag){case 3:Kd(t),hr();break;case 5:Sd(t);break;case 1:Ye(t.type)&&Co(t);break;case 4:$a(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ne(_o,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ne(ue,ue.current&1),t.flags|=128,null):n&t.child.childLanes?Qd(e,t,n):(ne(ue,ue.current&1),e=Ft(e,t,n),e!==null?e.sibling:null);ne(ue,ue.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return qd(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ne(ue,ue.current),r)break;return null;case 22:case 23:return t.lanes=0,Wd(e,t,n)}return Ft(e,t,n)}var Gd,Kl,Yd,Xd;Gd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Kl=function(){};Yd=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,En(jt.current);var o=null;switch(n){case"input":i=pl(e,i),r=pl(e,r),o=[];break;case"select":i=fe({},i,{value:void 0}),r=fe({},r,{value:void 0}),o=[];break;case"textarea":i=vl(e,i),r=vl(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=So)}wl(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ti.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ti.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ie("scroll",e),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Xd=function(e,t,n,r){n!==r&&(t.flags|=4)};function br(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function r0(e,t,n){var r=t.pendingProps;switch(Pa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Ye(t.type)&&xo(),Me(t),null;case 3:return r=t.stateNode,gr(),oe(Ge),oe(Ae),Fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,St!==null&&(ea(St),St=null))),Kl(e,t),Me(t),null;case 5:za(t);var i=En(hi.current);if(n=t.type,e!==null&&t.stateNode!=null)Yd(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return Me(t),null}if(e=En(jt.current),zi(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Dt]=t,r[fi]=o,e=(t.mode&1)!==0,n){case"dialog":ie("cancel",r),ie("close",r);break;case"iframe":case"object":case"embed":ie("load",r);break;case"video":case"audio":for(i=0;i<Hr.length;i++)ie(Hr[i],r);break;case"source":ie("error",r);break;case"img":case"image":case"link":ie("error",r),ie("load",r);break;case"details":ie("toggle",r);break;case"input":Eu(r,o),ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ie("invalid",r);break;case"textarea":Ou(r,o),ie("invalid",r)}wl(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&$i(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&$i(r.textContent,l,e),i=["children",""+l]):ti.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&ie("scroll",r)}switch(n){case"input":ji(r),_u(r,o,!0);break;case"textarea":ji(r),Tu(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=So)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_f(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Dt]=t,e[fi]=r,Gd(e,t,!1,!1),t.stateNode=e;e:{switch(s=Sl(n,r),n){case"dialog":ie("cancel",e),ie("close",e),i=r;break;case"iframe":case"object":case"embed":ie("load",e),i=r;break;case"video":case"audio":for(i=0;i<Hr.length;i++)ie(Hr[i],e);i=r;break;case"source":ie("error",e),i=r;break;case"img":case"image":case"link":ie("error",e),ie("load",e),i=r;break;case"details":ie("toggle",e),i=r;break;case"input":Eu(e,r),i=pl(e,r),ie("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=fe({},r,{value:void 0}),ie("invalid",e);break;case"textarea":Ou(e,r),i=vl(e,r),ie("invalid",e);break;default:i=r}wl(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?Df(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Of(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ni(e,a):typeof a=="number"&&ni(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ti.hasOwnProperty(o)?a!=null&&o==="onScroll"&&ie("scroll",e):a!=null&&ma(e,o,a,s))}switch(n){case"input":ji(e),_u(e,r,!1);break;case"textarea":ji(e),Tu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+fn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?or(e,!!r.multiple,o,!1):r.defaultValue!=null&&or(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=So)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Me(t),null;case 6:if(e&&t.stateNode!=null)Xd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=En(hi.current),En(jt.current),zi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Dt]=t,(o=r.nodeValue!==n)&&(e=rt,e!==null))switch(e.tag){case 3:$i(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$i(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dt]=t,t.stateNode=r}return Me(t),null;case 13:if(oe(ue),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&nt!==null&&t.mode&1&&!(t.flags&128))gd(),hr(),t.flags|=98560,o=!1;else if(o=zi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(N(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(N(317));o[Dt]=t}else hr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Me(t),o=!1}else St!==null&&(ea(St),St=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?Ce===0&&(Ce=3):Za())),t.updateQueue!==null&&(t.flags|=4),Me(t),null);case 4:return gr(),Kl(e,t),e===null&&ui(t.stateNode.containerInfo),Me(t),null;case 10:return ba(t.type._context),Me(t),null;case 17:return Ye(t.type)&&xo(),Me(t),null;case 19:if(oe(ue),o=t.memoizedState,o===null)return Me(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)br(o,!1);else{if(Ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Do(e),s!==null){for(t.flags|=128,br(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ne(ue,ue.current&1|2),t.child}e=e.sibling}o.tail!==null&&ge()>vr&&(t.flags|=128,r=!0,br(o,!1),t.lanes=4194304)}else{if(!r)if(e=Do(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),br(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!le)return Me(t),null}else 2*ge()-o.renderingStartTime>vr&&n!==1073741824&&(t.flags|=128,r=!0,br(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ge(),t.sibling=null,n=ue.current,ne(ue,r?n&1|2:n&1),t):(Me(t),null);case 22:case 23:return Xa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?tt&1073741824&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function i0(e,t){switch(Pa(t),t.tag){case 1:return Ye(t.type)&&xo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gr(),oe(Ge),oe(Ae),Fa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return za(t),null;case 13:if(oe(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(ue),null;case 4:return gr(),null;case 10:return ba(t.type._context),null;case 22:case 23:return Xa(),null;case 24:return null;default:return null}}var Hi=!1,Re=!1,o0=typeof WeakSet=="function"?WeakSet:Set,b=null;function rr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){de(e,t,r)}else n.current=null}function Ql(e,t,n){try{n()}catch(r){de(e,t,r)}}var mc=!1;function s0(e,t){if(jl=vo,e=nd(),Na(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var y;d!==n||i!==0&&d.nodeType!==3||(l=s+i),d!==o||r!==0&&d.nodeType!==3||(a=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(y=d.firstChild)!==null;)f=d,d=y;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=s),f===o&&++h===r&&(a=s),(y=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pl={focusedElem:e,selectionRange:n},vo=!1,b=t;b!==null;)if(t=b,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,b=e;else for(;b!==null;){t=b;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,O=m.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:yt(t.type,w),O);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(E){de(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,b=e;break}b=t.return}return m=mc,mc=!1,m}function Yr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ql(t,n,o)}i=i.next}while(i!==r)}}function Ko(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ql(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Zd(e){var t=e.alternate;t!==null&&(e.alternate=null,Zd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dt],delete t[fi],delete t[Ml],delete t[Hg],delete t[Bg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Jd(e){return e.tag===5||e.tag===3||e.tag===4}function vc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=So));else if(r!==4&&(e=e.child,e!==null))for(Gl(e,t,n),e=e.sibling;e!==null;)Gl(e,t,n),e=e.sibling}function Yl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Yl(e,t,n),e=e.sibling;e!==null;)Yl(e,t,n),e=e.sibling}var Ne=null,wt=!1;function Vt(e,t,n){for(n=n.child;n!==null;)eh(e,t,n),n=n.sibling}function eh(e,t,n){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount($o,n)}catch{}switch(n.tag){case 5:Re||rr(n,t);case 6:var r=Ne,i=wt;Ne=null,Vt(e,t,n),Ne=r,wt=i,Ne!==null&&(wt?(e=Ne,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ne.removeChild(n.stateNode));break;case 18:Ne!==null&&(wt?(e=Ne,n=n.stateNode,e.nodeType===8?$s(e.parentNode,n):e.nodeType===1&&$s(e,n),si(e)):$s(Ne,n.stateNode));break;case 4:r=Ne,i=wt,Ne=n.stateNode.containerInfo,wt=!0,Vt(e,t,n),Ne=r,wt=i;break;case 0:case 11:case 14:case 15:if(!Re&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Ql(n,t,s),i=i.next}while(i!==r)}Vt(e,t,n);break;case 1:if(!Re&&(rr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){de(n,t,l)}Vt(e,t,n);break;case 21:Vt(e,t,n);break;case 22:n.mode&1?(Re=(r=Re)||n.memoizedState!==null,Vt(e,t,n),Re=r):Vt(e,t,n);break;default:Vt(e,t,n)}}function yc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new o0),t.forEach(function(r){var i=g0.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Ne=l.stateNode,wt=!1;break e;case 3:Ne=l.stateNode.containerInfo,wt=!0;break e;case 4:Ne=l.stateNode.containerInfo,wt=!0;break e}l=l.return}if(Ne===null)throw Error(N(160));eh(o,s,i),Ne=null,wt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){de(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)th(t,e),t=t.sibling}function th(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vt(t,e),Ot(e),r&4){try{Yr(3,e,e.return),Ko(3,e)}catch(w){de(e,e.return,w)}try{Yr(5,e,e.return)}catch(w){de(e,e.return,w)}}break;case 1:vt(t,e),Ot(e),r&512&&n!==null&&rr(n,n.return);break;case 5:if(vt(t,e),Ot(e),r&512&&n!==null&&rr(n,n.return),e.flags&32){var i=e.stateNode;try{ni(i,"")}catch(w){de(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&kf(i,o),Sl(l,s);var u=Sl(l,o);for(s=0;s<a.length;s+=2){var h=a[s],d=a[s+1];h==="style"?Df(i,d):h==="dangerouslySetInnerHTML"?Of(i,d):h==="children"?ni(i,d):ma(i,h,d,u)}switch(l){case"input":gl(i,o);break;case"textarea":Ef(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?or(i,!!o.multiple,y,!1):f!==!!o.multiple&&(o.defaultValue!=null?or(i,!!o.multiple,o.defaultValue,!0):or(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(w){de(e,e.return,w)}}break;case 6:if(vt(t,e),Ot(e),r&4){if(e.stateNode===null)throw Error(N(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(w){de(e,e.return,w)}}break;case 3:if(vt(t,e),Ot(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{si(t.containerInfo)}catch(w){de(e,e.return,w)}break;case 4:vt(t,e),Ot(e);break;case 13:vt(t,e),Ot(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Ga=ge())),r&4&&yc(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Re=(u=Re)||h,vt(t,e),Re=u):vt(t,e),Ot(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(b=e,h=e.child;h!==null;){for(d=b=h;b!==null;){switch(f=b,y=f.child,f.tag){case 0:case 11:case 14:case 15:Yr(4,f,f.return);break;case 1:rr(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(w){de(r,n,w)}}break;case 5:rr(f,f.return);break;case 22:if(f.memoizedState!==null){Sc(d);continue}}y!==null?(y.return=f,b=y):Sc(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,a=d.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Tf("display",s))}catch(w){de(e,e.return,w)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){de(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vt(t,e),Ot(e),r&4&&yc(e);break;case 21:break;default:vt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Jd(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ni(i,""),r.flags&=-33);var o=vc(e);Yl(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=vc(e);Gl(e,l,s);break;default:throw Error(N(161))}}catch(a){de(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function l0(e,t,n){b=e,nh(e)}function nh(e,t,n){for(var r=(e.mode&1)!==0;b!==null;){var i=b,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Hi;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Re;l=Hi;var u=Re;if(Hi=s,(Re=a)&&!u)for(b=i;b!==null;)s=b,a=s.child,s.tag===22&&s.memoizedState!==null?xc(i):a!==null?(a.return=s,b=a):xc(i);for(;o!==null;)b=o,nh(o),o=o.sibling;b=i,Hi=l,Re=u}wc(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,b=o):wc(e)}}function wc(e){for(;b!==null;){var t=b;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Re||Ko(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Re)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&rc(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}rc(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&si(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Re||t.flags&512&&ql(t)}catch(f){de(t,t.return,f)}}if(t===e){b=null;break}if(n=t.sibling,n!==null){n.return=t.return,b=n;break}b=t.return}}function Sc(e){for(;b!==null;){var t=b;if(t===e){b=null;break}var n=t.sibling;if(n!==null){n.return=t.return,b=n;break}b=t.return}}function xc(e){for(;b!==null;){var t=b;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ko(4,t)}catch(a){de(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){de(t,i,a)}}var o=t.return;try{ql(t)}catch(a){de(t,o,a)}break;case 5:var s=t.return;try{ql(t)}catch(a){de(t,s,a)}}}catch(a){de(t,t.return,a)}if(t===e){b=null;break}var l=t.sibling;if(l!==null){l.return=t.return,b=l;break}b=t.return}}var a0=Math.ceil,Po=Ut.ReactCurrentDispatcher,Qa=Ut.ReactCurrentOwner,ht=Ut.ReactCurrentBatchConfig,X=0,Te=null,ve=null,je=0,tt=0,ir=pn(0),Ce=0,vi=null,Pn=0,Qo=0,qa=0,Xr=null,Qe=null,Ga=0,vr=1/0,Lt=null,Lo=!1,Xl=null,ln=null,Bi=!1,en=null,Io=0,Zr=0,Zl=null,io=-1,oo=0;function He(){return X&6?ge():io!==-1?io:io=ge()}function an(e){return e.mode&1?X&2&&je!==0?je&-je:Vg.transition!==null?(oo===0&&(oo=Ff()),oo):(e=ee,e!==0||(e=window.event,e=e===void 0?16:Qf(e.type)),e):1}function Ct(e,t,n,r){if(50<Zr)throw Zr=0,Zl=null,Error(N(185));xi(e,n,r),(!(X&2)||e!==Te)&&(e===Te&&(!(X&2)&&(Qo|=n),Ce===4&&Zt(e,je)),Xe(e,r),n===1&&X===0&&!(t.mode&1)&&(vr=ge()+500,Bo&&gn()))}function Xe(e,t){var n=e.callbackNode;Vp(e,t);var r=mo(e,e===Te?je:0);if(r===0)n!==null&&ju(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ju(n),t===1)e.tag===0?Wg(Cc.bind(null,e)):dd(Cc.bind(null,e)),Fg(function(){!(X&6)&&gn()}),n=null;else{switch(Uf(r)){case 1:n=xa;break;case 4:n=$f;break;case 16:n=go;break;case 536870912:n=zf;break;default:n=go}n=ch(n,rh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rh(e,t){if(io=-1,oo=0,X&6)throw Error(N(327));var n=e.callbackNode;if(cr()&&e.callbackNode!==n)return null;var r=mo(e,e===Te?je:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Mo(e,r);else{t=r;var i=X;X|=2;var o=oh();(Te!==e||je!==t)&&(Lt=null,vr=ge()+500,_n(e,t));do try{f0();break}catch(l){ih(e,l)}while(1);Ma(),Po.current=o,X=i,ve!==null?t=0:(Te=null,je=0,t=Ce)}if(t!==0){if(t===2&&(i=_l(e),i!==0&&(r=i,t=Jl(e,i))),t===1)throw n=vi,_n(e,0),Zt(e,r),Xe(e,ge()),n;if(t===6)Zt(e,r);else{if(i=e.current.alternate,!(r&30)&&!u0(i)&&(t=Mo(e,r),t===2&&(o=_l(e),o!==0&&(r=o,t=Jl(e,o))),t===1))throw n=vi,_n(e,0),Zt(e,r),Xe(e,ge()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:xn(e,Qe,Lt);break;case 3:if(Zt(e,r),(r&130023424)===r&&(t=Ga+500-ge(),10<t)){if(mo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){He(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Il(xn.bind(null,e,Qe,Lt),t);break}xn(e,Qe,Lt);break;case 4:if(Zt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-xt(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*a0(r/1960))-r,10<r){e.timeoutHandle=Il(xn.bind(null,e,Qe,Lt),r);break}xn(e,Qe,Lt);break;case 5:xn(e,Qe,Lt);break;default:throw Error(N(329))}}}return Xe(e,ge()),e.callbackNode===n?rh.bind(null,e):null}function Jl(e,t){var n=Xr;return e.current.memoizedState.isDehydrated&&(_n(e,t).flags|=256),e=Mo(e,t),e!==2&&(t=Qe,Qe=n,t!==null&&ea(t)),e}function ea(e){Qe===null?Qe=e:Qe.push.apply(Qe,e)}function u0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!kt(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zt(e,t){for(t&=~qa,t&=~Qo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),r=1<<n;e[n]=-1,t&=~r}}function Cc(e){if(X&6)throw Error(N(327));cr();var t=mo(e,0);if(!(t&1))return Xe(e,ge()),null;var n=Mo(e,t);if(e.tag!==0&&n===2){var r=_l(e);r!==0&&(t=r,n=Jl(e,r))}if(n===1)throw n=vi,_n(e,0),Zt(e,t),Xe(e,ge()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xn(e,Qe,Lt),Xe(e,ge()),null}function Ya(e,t){var n=X;X|=1;try{return e(t)}finally{X=n,X===0&&(vr=ge()+500,Bo&&gn())}}function Ln(e){en!==null&&en.tag===0&&!(X&6)&&cr();var t=X;X|=1;var n=ht.transition,r=ee;try{if(ht.transition=null,ee=1,e)return e()}finally{ee=r,ht.transition=n,X=t,!(X&6)&&gn()}}function Xa(){tt=ir.current,oe(ir)}function _n(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zg(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(Pa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xo();break;case 3:gr(),oe(Ge),oe(Ae),Fa();break;case 5:za(r);break;case 4:gr();break;case 13:oe(ue);break;case 19:oe(ue);break;case 10:ba(r.type._context);break;case 22:case 23:Xa()}n=n.return}if(Te=e,ve=e=un(e.current,null),je=tt=t,Ce=0,vi=null,qa=Qo=Pn=0,Qe=Xr=null,kn!==null){for(t=0;t<kn.length;t++)if(n=kn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}kn=null}return e}function ih(e,t){do{var n=ve;try{if(Ma(),to.current=jo,No){for(var r=ce.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}No=!1}if(jn=0,Oe=xe=ce=null,Gr=!1,pi=0,Qa.current=null,n===null||n.return===null){Ce=1,vi=t,ve=null;break}e:{var o=e,s=n.return,l=n,a=t;if(t=je,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=uc(s);if(y!==null){y.flags&=-257,cc(y,s,l,o,t),y.mode&1&&ac(o,u,t),t=y,a=u;var m=t.updateQueue;if(m===null){var w=new Set;w.add(a),t.updateQueue=w}else m.add(a);break e}else{if(!(t&1)){ac(o,u,t),Za();break e}a=Error(N(426))}}else if(le&&l.mode&1){var O=uc(s);if(O!==null){!(O.flags&65536)&&(O.flags|=256),cc(O,s,l,o,t),La(mr(a,l));break e}}o=a=mr(a,l),Ce!==4&&(Ce=2),Xr===null?Xr=[o]:Xr.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=Ud(o,a,t);nc(o,g);break e;case 1:l=a;var p=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ln===null||!ln.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var E=Hd(o,l,t);nc(o,E);break e}}o=o.return}while(o!==null)}lh(n)}catch(D){t=D,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(1)}function oh(){var e=Po.current;return Po.current=jo,e===null?jo:e}function Za(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Te===null||!(Pn&268435455)&&!(Qo&268435455)||Zt(Te,je)}function Mo(e,t){var n=X;X|=2;var r=oh();(Te!==e||je!==t)&&(Lt=null,_n(e,t));do try{c0();break}catch(i){ih(e,i)}while(1);if(Ma(),X=n,Po.current=r,ve!==null)throw Error(N(261));return Te=null,je=0,Ce}function c0(){for(;ve!==null;)sh(ve)}function f0(){for(;ve!==null&&!Rp();)sh(ve)}function sh(e){var t=uh(e.alternate,e,tt);e.memoizedProps=e.pendingProps,t===null?lh(e):ve=t,Qa.current=null}function lh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=i0(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ce=6,ve=null;return}}else if(n=r0(n,t,tt),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);Ce===0&&(Ce=5)}function xn(e,t,n){var r=ee,i=ht.transition;try{ht.transition=null,ee=1,d0(e,t,n,r)}finally{ht.transition=i,ee=r}return null}function d0(e,t,n,r){do cr();while(en!==null);if(X&6)throw Error(N(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Kp(e,o),e===Te&&(ve=Te=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bi||(Bi=!0,ch(go,function(){return cr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ht.transition,ht.transition=null;var s=ee;ee=1;var l=X;X|=4,Qa.current=null,s0(e,n),th(n,e),Lg(Pl),vo=!!jl,Pl=jl=null,e.current=n,l0(n),Ap(),X=l,ee=s,ht.transition=o}else e.current=n;if(Bi&&(Bi=!1,en=e,Io=i),o=e.pendingLanes,o===0&&(ln=null),Fp(n.stateNode),Xe(e,ge()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Lo)throw Lo=!1,e=Xl,Xl=null,e;return Io&1&&e.tag!==0&&cr(),o=e.pendingLanes,o&1?e===Zl?Zr++:(Zr=0,Zl=e):Zr=0,gn(),null}function cr(){if(en!==null){var e=Uf(Io),t=ht.transition,n=ee;try{if(ht.transition=null,ee=16>e?16:e,en===null)var r=!1;else{if(e=en,en=null,Io=0,X&6)throw Error(N(331));var i=X;for(X|=4,b=e.current;b!==null;){var o=b,s=o.child;if(b.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(b=u;b!==null;){var h=b;switch(h.tag){case 0:case 11:case 15:Yr(8,h,o)}var d=h.child;if(d!==null)d.return=h,b=d;else for(;b!==null;){h=b;var f=h.sibling,y=h.return;if(Zd(h),h===u){b=null;break}if(f!==null){f.return=y,b=f;break}b=y}}}var m=o.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var O=w.sibling;w.sibling=null,w=O}while(w!==null)}}b=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,b=s;else e:for(;b!==null;){if(o=b,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Yr(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,b=g;break e}b=o.return}}var p=e.current;for(b=p;b!==null;){s=b;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,b=v;else e:for(s=p;b!==null;){if(l=b,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ko(9,l)}}catch(D){de(l,l.return,D)}if(l===s){b=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,b=E;break e}b=l.return}}if(X=i,gn(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot($o,e)}catch{}r=!0}return r}finally{ee=n,ht.transition=t}}return!1}function kc(e,t,n){t=mr(n,t),t=Ud(e,t,1),e=sn(e,t,1),t=He(),e!==null&&(xi(e,1,t),Xe(e,t))}function de(e,t,n){if(e.tag===3)kc(e,e,n);else for(;t!==null;){if(t.tag===3){kc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ln===null||!ln.has(r))){e=mr(n,e),e=Hd(t,e,1),t=sn(t,e,1),e=He(),t!==null&&(xi(t,1,e),Xe(t,e));break}}t=t.return}}function h0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=He(),e.pingedLanes|=e.suspendedLanes&n,Te===e&&(je&n)===n&&(Ce===4||Ce===3&&(je&130023424)===je&&500>ge()-Ga?_n(e,0):qa|=n),Xe(e,t)}function ah(e,t){t===0&&(e.mode&1?(t=Ii,Ii<<=1,!(Ii&130023424)&&(Ii=4194304)):t=1);var n=He();e=zt(e,t),e!==null&&(xi(e,t,n),Xe(e,n))}function p0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ah(e,n)}function g0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),ah(e,n)}var uh;uh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ge.current)qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qe=!1,n0(e,t,n);qe=!!(e.flags&131072)}else qe=!1,le&&t.flags&1048576&&hd(t,Eo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ro(e,t),e=t.pendingProps;var i=dr(t,Ae.current);ur(t,n),i=Ha(null,t,r,e,i,n);var o=Ba();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(r)?(o=!0,Co(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Aa(t),i.updater=Vo,t.stateNode=i,i._reactInternals=t,Fl(t,r,e,n),t=Bl(null,t,r,!0,o,n)):(t.tag=0,le&&o&&ja(t),Ue(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ro(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=v0(r),e=yt(r,e),i){case 0:t=Hl(null,t,r,e,n);break e;case 1:t=hc(null,t,r,e,n);break e;case 11:t=fc(null,t,r,e,n);break e;case 14:t=dc(null,t,r,yt(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yt(r,i),Hl(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yt(r,i),hc(e,t,r,i,n);case 3:e:{if(Kd(t),e===null)throw Error(N(387));r=t.pendingProps,o=t.memoizedState,i=o.element,wd(e,t),To(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=mr(Error(N(423)),t),t=pc(e,t,r,n,i);break e}else if(r!==i){i=mr(Error(N(424)),t),t=pc(e,t,r,n,i);break e}else for(nt=on(t.stateNode.containerInfo.firstChild),rt=t,le=!0,St=null,n=vd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hr(),r===i){t=Ft(e,t,n);break e}Ue(e,t,r,n)}t=t.child}return t;case 5:return Sd(t),e===null&&Al(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Ll(r,i)?s=null:o!==null&&Ll(r,o)&&(t.flags|=32),Vd(e,t),Ue(e,t,s,n),t.child;case 6:return e===null&&Al(t),null;case 13:return Qd(e,t,n);case 4:return $a(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=pr(t,null,r,n):Ue(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yt(r,i),fc(e,t,r,i,n);case 7:return Ue(e,t,t.pendingProps,n),t.child;case 8:return Ue(e,t,t.pendingProps.children,n),t.child;case 12:return Ue(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ne(_o,r._currentValue),r._currentValue=s,o!==null)if(kt(o.value,s)){if(o.children===i.children&&!Ge.current){t=Ft(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=Rt(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),$l(o.return,n,t),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(N(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),$l(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ue(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ur(t,n),i=pt(i),r=r(i),t.flags|=1,Ue(e,t,r,n),t.child;case 14:return r=t.type,i=yt(r,t.pendingProps),i=yt(r.type,i),dc(e,t,r,i,n);case 15:return Bd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yt(r,i),ro(e,t),t.tag=1,Ye(r)?(e=!0,Co(t)):e=!1,ur(t,n),Fd(t,r,i),Fl(t,r,i,n),Bl(null,t,r,!0,e,n);case 19:return qd(e,t,n);case 22:return Wd(e,t,n)}throw Error(N(156,t.tag))};function ch(e,t){return Af(e,t)}function m0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dt(e,t,n,r){return new m0(e,t,n,r)}function Ja(e){return e=e.prototype,!(!e||!e.isReactComponent)}function v0(e){if(typeof e=="function")return Ja(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ya)return 11;if(e===wa)return 14}return 2}function un(e,t){var n=e.alternate;return n===null?(n=dt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function so(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Ja(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case qn:return On(n.children,i,o,t);case va:s=8,i|=8;break;case cl:return e=dt(12,n,t,i|2),e.elementType=cl,e.lanes=o,e;case fl:return e=dt(13,n,t,i),e.elementType=fl,e.lanes=o,e;case dl:return e=dt(19,n,t,i),e.elementType=dl,e.lanes=o,e;case Sf:return qo(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yf:s=10;break e;case wf:s=9;break e;case ya:s=11;break e;case wa:s=14;break e;case qt:s=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=dt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function On(e,t,n,r){return e=dt(7,e,r,t),e.lanes=n,e}function qo(e,t,n,r){return e=dt(22,e,r,t),e.elementType=Sf,e.lanes=n,e.stateNode={isHidden:!1},e}function Ks(e,t,n){return e=dt(6,e,null,t),e.lanes=n,e}function Qs(e,t,n){return t=dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function y0(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ts(0),this.expirationTimes=Ts(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ts(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function eu(e,t,n,r,i,o,s,l,a){return e=new y0(e,t,n,l,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=dt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(o),e}function w0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function fh(e){if(!e)return dn;e=e._reactInternals;e:{if(bn(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(Ye(n))return fd(e,n,t)}return t}function dh(e,t,n,r,i,o,s,l,a){return e=eu(n,r,!0,e,i,o,s,l,a),e.context=fh(null),n=e.current,r=He(),i=an(n),o=Rt(r,i),o.callback=t??null,sn(n,o,i),e.current.lanes=i,xi(e,i,r),Xe(e,r),e}function Go(e,t,n,r){var i=t.current,o=He(),s=an(i);return n=fh(n),t.context===null?t.context=n:t.pendingContext=n,t=Rt(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=sn(i,t,s),e!==null&&(Ct(e,i,s,o),eo(e,i,s)),s}function bo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ec(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function tu(e,t){Ec(e,t),(e=e.alternate)&&Ec(e,t)}function S0(){return null}var hh=typeof reportError=="function"?reportError:function(e){console.error(e)};function nu(e){this._internalRoot=e}Yo.prototype.render=nu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));Go(e,t,null,null)};Yo.prototype.unmount=nu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ln(function(){Go(null,e,null,null)}),t[$t]=null}};function Yo(e){this._internalRoot=e}Yo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xt.length&&t!==0&&t<Xt[n].priority;n++);Xt.splice(n,0,e),n===0&&Kf(e)}};function ru(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _c(){}function x0(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=bo(s);o.call(u)}}var s=dh(t,r,e,0,null,!1,!1,"",_c);return e._reactRootContainer=s,e[$t]=s.current,ui(e.nodeType===8?e.parentNode:e),Ln(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=bo(a);l.call(u)}}var a=eu(e,0,!1,null,null,!1,!1,"",_c);return e._reactRootContainer=a,e[$t]=a.current,ui(e.nodeType===8?e.parentNode:e),Ln(function(){Go(t,a,n,r)}),a}function Zo(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=bo(s);l.call(a)}}Go(t,s,e,i)}else s=x0(n,t,e,i,r);return bo(s)}Hf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ur(t.pendingLanes);n!==0&&(Ca(t,n|1),Xe(t,ge()),!(X&6)&&(vr=ge()+500,gn()))}break;case 13:Ln(function(){var r=zt(e,1);if(r!==null){var i=He();Ct(r,e,1,i)}}),tu(e,1)}};ka=function(e){if(e.tag===13){var t=zt(e,134217728);if(t!==null){var n=He();Ct(t,e,134217728,n)}tu(e,134217728)}};Bf=function(e){if(e.tag===13){var t=an(e),n=zt(e,t);if(n!==null){var r=He();Ct(n,e,t,r)}tu(e,t)}};Wf=function(){return ee};Vf=function(e,t){var n=ee;try{return ee=e,t()}finally{ee=n}};Cl=function(e,t,n){switch(t){case"input":if(gl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ho(r);if(!i)throw Error(N(90));Cf(r),gl(r,i)}}}break;case"textarea":Ef(e,n);break;case"select":t=n.value,t!=null&&or(e,!!n.multiple,t,!1)}};Pf=Ya;Lf=Ln;var C0={usingClientEntryPoint:!1,Events:[ki,Zn,Ho,Nf,jf,Ya]},Rr={findFiberByHostInstance:Cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k0={bundleType:Rr.bundleType,version:Rr.version,rendererPackageName:Rr.rendererPackageName,rendererConfig:Rr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ut.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bf(e),e===null?null:e.stateNode},findFiberByHostInstance:Rr.findFiberByHostInstance||S0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wi.isDisabled&&Wi.supportsFiber)try{$o=Wi.inject(k0),Nt=Wi}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C0;ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ru(t))throw Error(N(200));return w0(e,t,null,n)};ot.createRoot=function(e,t){if(!ru(e))throw Error(N(299));var n=!1,r="",i=hh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=eu(e,1,!1,null,null,n,!1,r,i),e[$t]=t.current,ui(e.nodeType===8?e.parentNode:e),new nu(t)};ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=bf(t),e=e===null?null:e.stateNode,e};ot.flushSync=function(e){return Ln(e)};ot.hydrate=function(e,t,n){if(!Xo(t))throw Error(N(200));return Zo(null,e,t,!0,n)};ot.hydrateRoot=function(e,t,n){if(!ru(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=hh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=dh(t,null,e,1,n??null,i,!1,o,s),e[$t]=t.current,ui(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yo(t)};ot.render=function(e,t,n){if(!Xo(t))throw Error(N(200));return Zo(null,e,t,!1,n)};ot.unmountComponentAtNode=function(e){if(!Xo(e))throw Error(N(40));return e._reactRootContainer?(Ln(function(){Zo(null,null,e,!1,function(){e._reactRootContainer=null,e[$t]=null})}),!0):!1};ot.unstable_batchedUpdates=Ya;ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xo(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return Zo(e,t,n,!1,r)};ot.version="18.3.1-next-f1338f8080-20240426";function ph(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ph)}catch(e){console.error(e)}}ph(),pf.exports=ot;var E0=pf.exports,Oc=E0;al.createRoot=Oc.createRoot,al.hydrateRoot=Oc.hydrateRoot;var _0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const O0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T0=(e,t)=>{const n=_.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:l,...a},u)=>_.createElement("svg",{ref:u,..._0,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${O0(e)}`,...a},[...t.map(([h,d])=>_.createElement(h,d)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n};var ke=T0;const D0=ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),N0=ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),j0=ke("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),P0=ke("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),L0=ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),I0=ke("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),M0=ke("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),b0=ke("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),R0=ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),A0=ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),$0=ke("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),z0=ke("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),F0=ke("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),U0=ke("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),H0=ke("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),B0=ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),W0=ke("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),V0=ke("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),K0=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ta=new Date().getFullYear(),Tc=Array.from({length:20},(e,t)=>ta-t),Dc=[{val:1,label:"Jan"},{val:2,label:"Feb"},{val:3,label:"Mar"},{val:4,label:"Apr"},{val:5,label:"May"},{val:6,label:"Jun"},{val:7,label:"Jul"},{val:8,label:"Aug"},{val:9,label:"Sep"},{val:10,label:"Oct"},{val:11,label:"Nov"},{val:12,label:"Dec"}],Q0=({onSearch:e,isLoading:t})=>{const[n,r]=_.useState(""),[i,o]=_.useState({startYear:ta,startMonth:1,endYear:ta,endMonth:new Date().getMonth()+1}),[s,l]=_.useState(""),[a,u]=_.useState("all"),h=d=>{d.preventDefault(),n.trim()&&e(n.trim(),i,{opening:s.trim(),result:a})};return c.jsxs("div",{className:"w-full max-w-md mx-auto p-8 bg-white rounded-2xl shadow-sm border border-gray-100",children:[c.jsxs("div",{className:"mb-8 text-center",children:[c.jsx("h2",{className:"text-3xl font-light text-gray-900 tracking-tight flex items-center justify-center gap-3",children:"Chess Games Organizer"}),c.jsx("p",{className:"text-gray-500 text-sm mt-3 font-light",children:"Retrieve game history"})]}),c.jsxs("form",{onSubmit:h,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-widest mb-2",children:"Username"}),c.jsxs("div",{className:"relative",children:[c.jsx(B0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",value:n,onChange:d=>r(d.target.value),className:"w-full bg-gray-50 border border-gray-200 rounded-lg py-3 pl-10 pr-4 text-gray-900 focus:ring-1 focus:ring-gray-900 focus:border-gray-900 outline-none transition-all placeholder-gray-400 font-medium",placeholder:"username",required:!0})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-widest mb-2",children:"From"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("select",{value:i.startMonth,onChange:d=>o({...i,startMonth:Number(d.target.value)}),className:"bg-gray-50 border border-gray-200 rounded-lg py-3 px-2 text-sm text-gray-900 focus:ring-1 focus:ring-gray-900 outline-none w-full",children:Dc.map(d=>c.jsx("option",{value:d.val,children:d.label},d.val))}),c.jsx("select",{value:i.startYear,onChange:d=>o({...i,startYear:Number(d.target.value)}),className:"bg-gray-50 border border-gray-200 rounded-lg py-3 px-2 text-sm text-gray-900 focus:ring-1 focus:ring-gray-900 outline-none w-full",children:Tc.map(d=>c.jsx("option",{value:d,children:d},d))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-widest mb-2",children:"To"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("select",{value:i.endMonth,onChange:d=>o({...i,endMonth:Number(d.target.value)}),className:"bg-gray-50 border border-gray-200 rounded-lg py-3 px-2 text-sm text-gray-900 focus:ring-1 focus:ring-gray-900 outline-none w-full",children:Dc.map(d=>c.jsx("option",{value:d.val,children:d.label},d.val))}),c.jsx("select",{value:i.endYear,onChange:d=>o({...i,endYear:Number(d.target.value)}),className:"bg-gray-50 border border-gray-200 rounded-lg py-3 px-2 text-sm text-gray-900 focus:ring-1 focus:ring-gray-900 outline-none w-full",children:Tc.map(d=>c.jsx("option",{value:d,children:d},d))})]})]})]}),c.jsxs("div",{className:"pt-2 border-t border-gray-100 mt-2",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(M0,{className:"w-3 h-3 text-gray-400"}),c.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-widest",children:"Filters"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-[10px] text-gray-400 uppercase tracking-widest mb-1",children:["Opening Name ",c.jsx("span",{className:"text-gray-300 normal-case tracking-normal",children:"(Optional)"})]}),c.jsx("input",{type:"text",placeholder:"e.g. Sicilian, London",value:s,onChange:d=>l(d.target.value),className:"w-full bg-white border border-gray-200 border-dashed rounded-lg py-2 px-3 text-sm text-gray-900 focus:ring-1 focus:ring-gray-900 focus:border-gray-900 outline-none placeholder-gray-300"}),c.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:`Matches text in PGN headers (e.g. "Queen's Pawn Game: London System")`})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-[10px] text-gray-400 uppercase tracking-widest mb-1",children:["Game Result ",c.jsx("span",{className:"text-gray-300 normal-case tracking-normal",children:"(Optional)"})]}),c.jsxs("select",{value:a,onChange:d=>u(d.target.value),className:"w-full bg-white border border-gray-200 border-dashed rounded-lg py-2 px-3 text-sm text-gray-900 focus:ring-1 focus:ring-gray-900 focus:border-gray-900 outline-none",children:[c.jsx("option",{value:"all",children:"Any Result"}),c.jsx("option",{value:"win",children:"Win"}),c.jsx("option",{value:"loss",children:"Loss (Any)"}),c.jsx("option",{value:"checkmated",children:"Loss (Checkmated)"}),c.jsx("option",{value:"resigned",children:"Loss (Resigned)"}),c.jsx("option",{value:"timeout",children:"Loss (Timeout)"}),c.jsx("option",{value:"draw",children:"Draw"})]})]})]})]}),c.jsx("button",{type:"submit",disabled:t,className:`w-full py-4 rounded-lg font-medium tracking-wide text-sm transition-all ${t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-900 text-white hover:bg-black active:scale-[0.99]"}`,children:t?"Loading...":"Search Games"})]})]})},q0=({games:e,selectedGame:t,username:n,onSelectGame:r,onReset:i})=>{const o=a=>{const h=a.white.username.toLowerCase()===n.toLowerCase()?a.white.result:a.black.result;return h==="win"?c.jsx(H0,{className:"w-3 h-3"}):h==="checkmated"?c.jsx(U0,{className:"w-3 h-3"}):h==="timeout"?c.jsx(L0,{className:"w-3 h-3"}):h==="resigned"?c.jsx(b0,{className:"w-3 h-3"}):c.jsx($0,{className:"w-3 h-3"})},s=(a,u)=>{const d=a.white.username.toLowerCase()===n.toLowerCase()?a.white.result:a.black.result,f="w-full text-left p-4 rounded-xl border transition-all duration-200 group";return d==="win"?`${f} ${u?"bg-emerald-50 border-emerald-300 ring-1 ring-emerald-200 shadow-sm":"bg-emerald-50/40 border-emerald-100/50 hover:bg-emerald-50 hover:border-emerald-200"}`:["checkmated","resigned","timeout","abandoned","lose"].includes(d)?`${f} ${u?"bg-rose-50 border-rose-300 ring-1 ring-rose-200 shadow-sm":"bg-rose-50/40 border-rose-100/50 hover:bg-rose-50 hover:border-rose-200"}`:`${f} ${u?"bg-gray-50 border-gray-300 ring-1 ring-gray-200 shadow-sm":"bg-white border-transparent hover:bg-gray-50 hover:border-gray-200"}`},l=a=>{const h=a.white.username.toLowerCase()===n.toLowerCase()?a.white.result:a.black.result;return h==="win"?"bg-emerald-100 text-emerald-800 border border-emerald-200":["checkmated","resigned","timeout","abandoned","lose"].includes(h)?"bg-rose-100 text-rose-800 border border-rose-200":"bg-gray-100 text-gray-600 border border-gray-200"};return c.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-gray-200 w-full md:w-80 lg:w-96 flex-shrink-0",children:[c.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-white sticky top-0 z-10",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 truncate max-w-[150px] text-lg",children:n}),c.jsxs("span",{className:"text-xs text-gray-500 font-medium uppercase tracking-wider",children:[e.length," games found"]})]}),c.jsx("button",{onClick:i,className:"text-xs px-4 py-2 rounded-full border border-gray-200 hover:bg-gray-50 text-gray-600 transition-colors font-medium",children:"New Search"})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:e.length===0?c.jsx("div",{className:"text-center p-8 text-gray-400 text-sm",children:"No games match filters"}):e.map(a=>{const u=a.white.username.toLowerCase()===n.toLowerCase(),h=u?a.black:a.white,d=u?a.white:a.black,f=new Date(a.end_time*1e3).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),y=(t==null?void 0:t.url)===a.url;return c.jsxs("button",{onClick:()=>r(a),className:s(a,y),children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsxs("span",{className:"text-sm font-semibold text-gray-900 truncate pr-2",children:["vs. ",h.username]}),c.jsxs("span",{className:`text-[10px] px-2 py-1 rounded-md flex items-center gap-1.5 uppercase tracking-wide font-bold ${l(a)}`,children:[o(a),d.result]})]}),c.jsxs("div",{className:"flex justify-between items-end text-xs text-gray-500 font-medium",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-gray-600",children:a.time_class}),c.jsx("span",{className:"font-mono text-gray-400",children:h.rating})]}),c.jsx("span",{className:"text-gray-400",children:f})]})]},a.url)})})]})};function G0(e){return e!==null?{comment:e,variations:[]}:{variations:[]}}function Y0(e,t,n,r,i){const o={move:e,variations:i};return t&&(o.suffix=t),n&&(o.nag=n),r!==null&&(o.comment=r),o}function X0(...e){const[t,...n]=e;let r=t;for(const i of n)i!==null&&(r.variations=[i,...i.variations],i.variations=[],r=i);return t}function Z0(e,t){if(t.marker&&t.marker.comment){let n=t.root;for(;;){const r=n.variations[0];if(!r){n.comment=t.marker.comment;break}n=r}}return{headers:e,root:t.root,result:(t.marker&&t.marker.result)??void 0}}function J0(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function yr(e,t,n,r){var i=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(i,yr.prototype),i.expected=t,i.found=n,i.location=r,i.name="SyntaxError",i}J0(yr,Error);function qs(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,n+=n.repeat(t),e+n.slice(0,t))}yr.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n=null,r;for(r=0;r<e.length;r++)if(e[r].source===this.location.source){n=e[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,o=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(i):i,s=this.location.source+":"+o.line+":"+o.column;if(n){var l=this.location.end,a=qs("",o.line.toString().length," "),u=n[i.line-1],h=i.line===l.line?l.column:u.length+1,d=h-i.column||1;t+=`
 --> `+s+`
`+a+` |
`+o.line+" | "+u+`
`+a+" | "+qs("",i.column-1," ")+qs("",d,"^")}else t+=`
 at `+s}return t};yr.buildMessage=function(e,t){var n={literal:function(u){return'"'+i(u.text)+'"'},class:function(u){var h=u.parts.map(function(d){return Array.isArray(d)?o(d[0])+"-"+o(d[1]):o(d)});return"["+(u.inverted?"^":"")+h.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(u){return u.description}};function r(u){return u.charCodeAt(0).toString(16).toUpperCase()}function i(u){return u.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(h){return"\\x0"+r(h)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(h){return"\\x"+r(h)})}function o(u){return u.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(h){return"\\x0"+r(h)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(h){return"\\x"+r(h)})}function s(u){return n[u.type](u)}function l(u){var h=u.map(s),d,f;if(h.sort(),h.length>0){for(d=1,f=1;d<h.length;d++)h[d-1]!==h[d]&&(h[f]=h[d],f++);h.length=f}switch(h.length){case 1:return h[0];case 2:return h[0]+" or "+h[1];default:return h.slice(0,-1).join(", ")+", or "+h[h.length-1]}}function a(u){return u?'"'+i(u)+'"':"end of input"}return"Expected "+l(e)+" but "+a(t)+" found."};function e1(e,t){t=t!==void 0?t:{};var n={},r=t.grammarSource,i={pgn:du},o=du,s="[",l='"',a="]",u=".",h="O-O-O",d="O-O",f="0-0-0",y="0-0",m="$",w="{",O="}",g=";",p="(",v=")",E="1-0",D="0-1",j="1/2-1/2",I="*",M=/^[a-zA-Z]/,q=/^[^"]/,P=/^[0-9]/,z=/^[.]/,H=/^[a-zA-Z1-8\-=]/,G=/^[+#]/,ae=/^[!?]/,he=/^[^}]/,pe=/^[^\r\n]/,ye=/^[ \t\r\n]/,L=Ke("tag pair"),U=Y("[",!1),W=Y('"',!1),te=Y("]",!1),se=Ke("tag name"),lt=we([["a","z"],["A","Z"]],!1,!1),$e=Ke("tag value"),Et=we(['"'],!0,!1),ze=Ke("move number"),V=we([["0","9"]],!1,!1),mt=Y(".",!1),Pt=we(["."],!1,!1),mn=Ke("standard algebraic notation"),Le=Y("O-O-O",!1),Ve=Y("O-O",!1),An=Y("0-0-0",!1),os=Y("0-0",!1),$n=we([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),Bt=we(["+","#"],!1,!1),ss=Ke("suffix annotation"),zn=we(["!","?"],!1,!1),ls=Ke("NAG"),_i=Y("$",!1),as=Ke("brace comment"),Cr=Y("{",!1),kr=we(["}"],!0,!1),Er=Y("}",!1),_t=Ke("rest of line comment"),_r=Y(";",!1),vn=we(["\r",`
`],!0,!1),us=Ke("variation"),cs=Y("(",!1),fs=Y(")",!1),Fn=Ke("game termination marker"),Un=Y("1-0",!1),Hn=Y("0-1",!1),Bn=Y("1/2-1/2",!1),ds=Y("*",!1),hs=Ke("whitespace"),Oi=we([" ","	","\r",`
`],!1,!1),ps=function(S,C){return Z0(S,C)},Or=function(S){return Object.fromEntries(S)},gs=function(S,C){return[S,C]},ms=function(S,C){return{root:S,marker:C}},vs=function(S,C){return X0(G0(S),...C.flat())},ys=function(S,C,k,A,$){return Y0(S,C,k,A,$)},Tr=function(S){return S},ws=function(S){return S.replace(/[\r\n]+/g," ")},Wn=function(S){return S.trim()},Dr=function(S){return S},Ss=function(S,C){return{result:S,comment:C}},x=t.peg$currPos|0,Wt=[{line:1,column:1}],Ze=x,Z=t.peg$maxFailExpected||[],T=t.peg$silentFails|0,Ee;if(t.startRule){if(!(t.startRule in i))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');o=i[t.startRule]}function Y(S,C){return{type:"literal",text:S,ignoreCase:C}}function we(S,C,k){return{type:"class",parts:S,inverted:C,ignoreCase:k}}function Je(){return{type:"end"}}function Ke(S){return{type:"other",description:S}}function cu(S){var C=Wt[S],k;if(C)return C;if(S>=Wt.length)k=Wt.length-1;else for(k=S;!Wt[--k];);for(C=Wt[k],C={line:C.line,column:C.column};k<S;)e.charCodeAt(k)===10?(C.line++,C.column=1):C.column++,k++;return Wt[S]=C,C}function fu(S,C,k){var A=cu(S),$=cu(C),J={source:r,start:{offset:S,line:A.line,column:A.column},end:{offset:C,line:$.line,column:$.column}};return J}function R(S){x<Ze||(x>Ze&&(Ze=x,Z=[]),Z.push(S))}function zh(S,C,k){return new yr(yr.buildMessage(S,C),S,C,k)}function du(){var S,C,k;return S=x,C=Fh(),k=Bh(),S=ps(C,k),S}function Fh(){var S,C,k;for(S=x,C=[],k=hu();k!==n;)C.push(k),k=hu();return k=Fe(),S=Or(C),S}function hu(){var S,C,k,A,$,J,yn;return T++,S=x,Fe(),e.charCodeAt(x)===91?(C=s,x++):(C=n,T===0&&R(U)),C!==n?(Fe(),k=Uh(),k!==n?(Fe(),e.charCodeAt(x)===34?(A=l,x++):(A=n,T===0&&R(W)),A!==n?($=Hh(),e.charCodeAt(x)===34?(J=l,x++):(J=n,T===0&&R(W)),J!==n?(Fe(),e.charCodeAt(x)===93?(yn=a,x++):(yn=n,T===0&&R(te)),yn!==n?S=gs(k,$):(x=S,S=n)):(x=S,S=n)):(x=S,S=n)):(x=S,S=n)):(x=S,S=n),T--,S===n&&T===0&&R(L),S}function Uh(){var S,C,k;if(T++,S=x,C=[],k=e.charAt(x),M.test(k)?x++:(k=n,T===0&&R(lt)),k!==n)for(;k!==n;)C.push(k),k=e.charAt(x),M.test(k)?x++:(k=n,T===0&&R(lt));else C=n;return C!==n?S=e.substring(S,x):S=C,T--,S===n&&(C=n,T===0&&R(se)),S}function Hh(){var S,C,k;for(T++,S=x,C=[],k=e.charAt(x),q.test(k)?x++:(k=n,T===0&&R(Et));k!==n;)C.push(k),k=e.charAt(x),q.test(k)?x++:(k=n,T===0&&R(Et));return S=e.substring(S,x),T--,C=n,T===0&&R($e),S}function Bh(){var S,C,k;return S=x,C=pu(),Fe(),k=Gh(),k===n&&(k=null),Fe(),S=ms(C,k),S}function pu(){var S,C,k,A;for(S=x,C=xs(),C===n&&(C=null),k=[],A=gu();A!==n;)k.push(A),A=gu();return S=vs(C,k),S}function gu(){var S,C,k,A,$,J,yn,Ti;if(S=x,Fe(),Wh(),Fe(),C=Vh(),C!==n){for(k=Kh(),k===n&&(k=null),A=[],$=mu();$!==n;)A.push($),$=mu();for($=Fe(),J=xs(),J===n&&(J=null),yn=[],Ti=vu();Ti!==n;)yn.push(Ti),Ti=vu();S=ys(C,k,A,J,yn)}else x=S,S=n;return S}function Wh(){var S,C,k,A,$,J;for(T++,S=x,C=[],k=e.charAt(x),P.test(k)?x++:(k=n,T===0&&R(V));k!==n;)C.push(k),k=e.charAt(x),P.test(k)?x++:(k=n,T===0&&R(V));if(e.charCodeAt(x)===46?(k=u,x++):(k=n,T===0&&R(mt)),k!==n){for(A=Fe(),$=[],J=e.charAt(x),z.test(J)?x++:(J=n,T===0&&R(Pt));J!==n;)$.push(J),J=e.charAt(x),z.test(J)?x++:(J=n,T===0&&R(Pt));C=[C,k,A,$],S=C}else x=S,S=n;return T--,S===n&&(C=n,T===0&&R(ze)),S}function Vh(){var S,C,k,A,$,J;if(T++,S=x,C=x,e.substr(x,5)===h?(k=h,x+=5):(k=n,T===0&&R(Le)),k===n&&(e.substr(x,3)===d?(k=d,x+=3):(k=n,T===0&&R(Ve)),k===n&&(e.substr(x,5)===f?(k=f,x+=5):(k=n,T===0&&R(An)),k===n&&(e.substr(x,3)===y?(k=y,x+=3):(k=n,T===0&&R(os)),k===n))))if(k=x,A=e.charAt(x),M.test(A)?x++:(A=n,T===0&&R(lt)),A!==n){if($=[],J=e.charAt(x),H.test(J)?x++:(J=n,T===0&&R($n)),J!==n)for(;J!==n;)$.push(J),J=e.charAt(x),H.test(J)?x++:(J=n,T===0&&R($n));else $=n;$!==n?(A=[A,$],k=A):(x=k,k=n)}else x=k,k=n;return k!==n?(A=e.charAt(x),G.test(A)?x++:(A=n,T===0&&R(Bt)),A===n&&(A=null),k=[k,A],C=k):(x=C,C=n),C!==n?S=e.substring(S,x):S=C,T--,S===n&&(C=n,T===0&&R(mn)),S}function Kh(){var S,C,k;for(T++,S=x,C=[],k=e.charAt(x),ae.test(k)?x++:(k=n,T===0&&R(zn));k!==n;)C.push(k),C.length>=2?k=n:(k=e.charAt(x),ae.test(k)?x++:(k=n,T===0&&R(zn)));return C.length<1?(x=S,S=n):S=C,T--,S===n&&(C=n,T===0&&R(ss)),S}function mu(){var S,C,k,A,$;if(T++,S=x,Fe(),e.charCodeAt(x)===36?(C=m,x++):(C=n,T===0&&R(_i)),C!==n){if(k=x,A=[],$=e.charAt(x),P.test($)?x++:($=n,T===0&&R(V)),$!==n)for(;$!==n;)A.push($),$=e.charAt(x),P.test($)?x++:($=n,T===0&&R(V));else A=n;A!==n?k=e.substring(k,x):k=A,k!==n?S=Tr(k):(x=S,S=n)}else x=S,S=n;return T--,S===n&&T===0&&R(ls),S}function xs(){var S;return S=Qh(),S===n&&(S=qh()),S}function Qh(){var S,C,k,A,$;if(T++,S=x,e.charCodeAt(x)===123?(C=w,x++):(C=n,T===0&&R(Cr)),C!==n){for(k=x,A=[],$=e.charAt(x),he.test($)?x++:($=n,T===0&&R(kr));$!==n;)A.push($),$=e.charAt(x),he.test($)?x++:($=n,T===0&&R(kr));k=e.substring(k,x),e.charCodeAt(x)===125?(A=O,x++):(A=n,T===0&&R(Er)),A!==n?S=ws(k):(x=S,S=n)}else x=S,S=n;return T--,S===n&&(C=n,T===0&&R(as)),S}function qh(){var S,C,k,A,$;if(T++,S=x,e.charCodeAt(x)===59?(C=g,x++):(C=n,T===0&&R(_r)),C!==n){for(k=x,A=[],$=e.charAt(x),pe.test($)?x++:($=n,T===0&&R(vn));$!==n;)A.push($),$=e.charAt(x),pe.test($)?x++:($=n,T===0&&R(vn));k=e.substring(k,x),S=Wn(k)}else x=S,S=n;return T--,S===n&&(C=n,T===0&&R(_t)),S}function vu(){var S,C,k,A;return T++,S=x,Fe(),e.charCodeAt(x)===40?(C=p,x++):(C=n,T===0&&R(cs)),C!==n?(k=pu(),k!==n?(Fe(),e.charCodeAt(x)===41?(A=v,x++):(A=n,T===0&&R(fs)),A!==n?S=Dr(k):(x=S,S=n)):(x=S,S=n)):(x=S,S=n),T--,S===n&&T===0&&R(us),S}function Gh(){var S,C,k;return T++,S=x,e.substr(x,3)===E?(C=E,x+=3):(C=n,T===0&&R(Un)),C===n&&(e.substr(x,3)===D?(C=D,x+=3):(C=n,T===0&&R(Hn)),C===n&&(e.substr(x,7)===j?(C=j,x+=7):(C=n,T===0&&R(Bn)),C===n&&(e.charCodeAt(x)===42?(C=I,x++):(C=n,T===0&&R(ds))))),C!==n?(Fe(),k=xs(),k===n&&(k=null),S=Ss(C,k)):(x=S,S=n),T--,S===n&&(C=n,T===0&&R(Fn)),S}function Fe(){var S,C;for(T++,S=[],C=e.charAt(x),ye.test(C)?x++:(C=n,T===0&&R(Oi));C!==n;)S.push(C),C=e.charAt(x),ye.test(C)?x++:(C=n,T===0&&R(Oi));return T--,C=n,T===0&&R(hs),S}if(Ee=o(),t.peg$library)return{peg$result:Ee,peg$currPos:x,peg$FAILED:n,peg$maxFailExpected:Z,peg$maxFailPos:Ze};if(Ee!==n&&x===e.length)return Ee;throw Ee!==n&&x<e.length&&R(Je()),zh(Z,Ze<e.length?e.charAt(Ze):null,Ze<e.length?fu(Ze,Ze+1):fu(Ze,Ze))}/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const lo=0xffffffffffffffffn;function Gs(e,t){return(e<<t|e>>64n-t)&0xffffffffffffffffn}function Nc(e,t){return e*t&lo}function t1(e){return function(){let t=BigInt(e&lo),n=BigInt(e>>64n&lo);const r=Nc(Gs(Nc(t,5n),7n),9n);return n^=t,t=(Gs(t,24n)^n^n<<16n)&lo,n=Gs(n,37n),e=n<<64n|t,r}}const Jo=t1(0xa187eb39cdcaed8f31c4b365b102e01en),n1=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>Jo()))),r1=Array.from({length:8},()=>Jo()),i1=Array.from({length:16},()=>Jo()),Ys=Jo(),be="w",et="b",me="p",na="n",ao="b",Br="r",Yt="q",Se="k",Xs="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class Vi{constructor(t,n){re(this,"color");re(this,"from");re(this,"to");re(this,"piece");re(this,"captured");re(this,"promotion");re(this,"flags");re(this,"san");re(this,"lan");re(this,"before");re(this,"after");const{color:r,piece:i,from:o,to:s,flags:l,captured:a,promotion:u}=n,h=_e(o),d=_e(s);this.color=r,this.piece=i,this.from=h,this.to=d,this.san=t._moveToSan(n,t._moves({legal:!0})),this.lan=h+d,this.before=t.fen(),t._makeMove(n),this.after=t.fen(),t._undoMove(),this.flags="";for(const f in B)B[f]&l&&(this.flags+=wn[f]);a&&(this.captured=a),u&&(this.promotion=u,this.lan+=u)}isCapture(){return this.flags.indexOf(wn.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(wn.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(wn.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(wn.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(wn.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(wn.BIG_PAWN)>-1}}const De=-1,wn={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},B={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},ra={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},o1={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},s1={...ra,...o1},F={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},Zs={b:[16,32,17,15],w:[-16,-32,-17,-15]},jc={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},l1=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],a1=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],u1={p:1,n:2,b:4,r:8,q:16,k:32},c1="pnbrqkPNBRQK",Pc=[na,ao,Br,Yt],f1=7,d1=6,h1=1,p1=0,Ki={[Se]:B.KSIDE_CASTLE,[Yt]:B.QSIDE_CASTLE},Kt={w:[{square:F.a1,flag:B.QSIDE_CASTLE},{square:F.h1,flag:B.KSIDE_CASTLE}],b:[{square:F.a8,flag:B.QSIDE_CASTLE},{square:F.h8,flag:B.KSIDE_CASTLE}]},g1={b:h1,w:d1},Js="--";function Tn(e){return e>>4}function yi(e){return e&15}function gh(e){return"0123456789".indexOf(e)!==-1}function _e(e){const t=yi(e),n=Tn(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(n,n+1)}function Ar(e){return e===be?et:be}function m1(e){const t=e.split(/\s+/);if(t.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const n=parseInt(t[5],10);if(isNaN(n)||n<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const r=parseInt(t[4],10);if(isNaN(r)||r<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(t[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(t[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(t[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const i=t[0].split("/");if(i.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let s=0;s<i.length;s++){let l=0,a=!1;for(let u=0;u<i[s].length;u++)if(gh(i[s][u])){if(a)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};l+=parseInt(i[s][u],10),a=!0}else{if(!/^[prnbqkPRNBQK]$/.test(i[s][u]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};l+=1,a=!1}if(l!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(t[3][1]=="3"&&t[1]=="w"||t[3][1]=="6"&&t[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const o=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:s,regex:l}of o){if(!l.test(t[0]))return{ok:!1,error:`Invalid FEN: missing ${s} king`};if((t[0].match(l)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${s} kings`}}return Array.from(i[0]+i[7]).some(s=>s.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function v1(e,t){const n=e.from,r=e.to,i=e.piece;let o=0,s=0,l=0;for(let a=0,u=t.length;a<u;a++){const h=t[a].from,d=t[a].to,f=t[a].piece;i===f&&n!==h&&r===d&&(o++,Tn(n)===Tn(h)&&s++,yi(n)===yi(h)&&l++)}return o>0?s>0&&l>0?_e(n):l>0?_e(n).charAt(1):_e(n).charAt(0):""}function Qt(e,t,n,r,i,o=void 0,s=B.NORMAL){const l=Tn(r);if(i===me&&(l===f1||l===p1))for(let a=0;a<Pc.length;a++){const u=Pc[a];e.push({color:t,from:n,to:r,piece:i,captured:o,promotion:u,flags:s|B.PROMOTION})}else e.push({color:t,from:n,to:r,piece:i,captured:o,flags:s})}function Lc(e){let t=e.charAt(0);return t>="a"&&t<="h"?e.match(/[a-h]\d.*[a-h]\d/)?void 0:me:(t=t.toLowerCase(),t==="o"?Se:t)}function el(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class Ic{constructor(t=Xs,{skipValidation:n=!1}={}){re(this,"_board",new Array(128));re(this,"_turn",be);re(this,"_header",{});re(this,"_kings",{w:De,b:De});re(this,"_epSquare",-1);re(this,"_halfMoves",0);re(this,"_moveNumber",0);re(this,"_history",[]);re(this,"_comments",{});re(this,"_castling",{w:0,b:0});re(this,"_hash",0n);re(this,"_positionCount",new Map);this.load(t,{skipValidation:n})}clear({preserveHeaders:t=!1}={}){this._board=new Array(128),this._kings={w:De,b:De},this._turn=be,this._castling={w:0,b:0},this._epSquare=De,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=t?this._header:{...s1},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(t,{skipValidation:n=!1,preserveHeaders:r=!1}={}){let i=t.split(/\s+/);if(i.length>=2&&i.length<6){const l=["-","-","0","1"];t=i.concat(l.slice(-(6-i.length))).join(" ")}if(i=t.split(/\s+/),!n){const{ok:l,error:a}=m1(t);if(!l)throw new Error(a)}const o=i[0];let s=0;this.clear({preserveHeaders:r});for(let l=0;l<o.length;l++){const a=o.charAt(l);if(a==="/")s+=8;else if(gh(a))s+=parseInt(a,10);else{const u=a<"a"?be:et;this._put({type:a.toLowerCase(),color:u},_e(s)),s++}}this._turn=i[1],i[2].indexOf("K")>-1&&(this._castling.w|=B.KSIDE_CASTLE),i[2].indexOf("Q")>-1&&(this._castling.w|=B.QSIDE_CASTLE),i[2].indexOf("k")>-1&&(this._castling.b|=B.KSIDE_CASTLE),i[2].indexOf("q")>-1&&(this._castling.b|=B.QSIDE_CASTLE),this._epSquare=i[3]==="-"?De:F[i[3]],this._halfMoves=parseInt(i[4],10),this._moveNumber=parseInt(i[5],10),this._hash=this._computeHash(),this._updateSetup(t),this._incPositionCount()}fen({forceEnpassantSquare:t=!1}={}){var s,l;let n=0,r="";for(let a=F.a8;a<=F.h1;a++){if(this._board[a]){n>0&&(r+=n,n=0);const{color:u,type:h}=this._board[a];r+=u===be?h.toUpperCase():h.toLowerCase()}else n++;a+1&136&&(n>0&&(r+=n),a!==F.h1&&(r+="/"),n=0,a+=8)}let i="";this._castling[be]&B.KSIDE_CASTLE&&(i+="K"),this._castling[be]&B.QSIDE_CASTLE&&(i+="Q"),this._castling[et]&B.KSIDE_CASTLE&&(i+="k"),this._castling[et]&B.QSIDE_CASTLE&&(i+="q"),i=i||"-";let o="-";if(this._epSquare!==De)if(t)o=_e(this._epSquare);else{const a=this._epSquare+(this._turn===be?16:-16),u=[a+1,a-1];for(const h of u){if(h&136)continue;const d=this._turn;if(((s=this._board[h])==null?void 0:s.color)===d&&((l=this._board[h])==null?void 0:l.type)===me){this._makeMove({color:d,from:h,to:this._epSquare,piece:me,captured:me,flags:B.EP_CAPTURE});const f=!this._isKingAttacked(d);if(this._undoMove(),f){o=_e(this._epSquare);break}}}}return[r,this._turn,i,o,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(t){if(!this._board[t])return 0n;const{color:n,type:r}=this._board[t],i={w:0,b:1}[n],o={p:0,n:1,b:2,r:3,q:4,k:5}[r];return n1[i][o][t]}_epKey(){return this._epSquare===De?0n:r1[this._epSquare&7]}_castlingKey(){const t=this._castling.w>>5|this._castling.b>>3;return i1[t]}_computeHash(){let t=0n;for(let n=F.a8;n<=F.h1;n++){if(n&136){n+=7;continue}this._board[n]&&(t^=this._pieceKey(n))}return t^=this._epKey(),t^=this._castlingKey(),this._turn==="b"&&(t^=Ys),t}_updateSetup(t){this._history.length>0||(t!==Xs?(this._header.SetUp="1",this._header.FEN=t):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(Xs)}get(t){return this._board[F[t]]}findPiece(t){var r;const n=[];for(let i=F.a8;i<=F.h1;i++){if(i&136){i+=7;continue}!this._board[i]||((r=this._board[i])==null?void 0:r.color)!==t.color||this._board[i].color===t.color&&this._board[i].type===t.type&&n.push(_e(i))}return n}put({type:t,color:n},r){return this._put({type:t,color:n},r)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(t,n){this._hash^=this._pieceKey(t),this._board[t]=n,this._hash^=this._pieceKey(t)}_put({type:t,color:n},r){if(c1.indexOf(t.toLowerCase())===-1||!(r in F))return!1;const i=F[r];if(t==Se&&!(this._kings[n]==De||this._kings[n]==i))return!1;const o=this._board[i];return o&&o.type===Se&&(this._kings[o.color]=De),this._set(i,{type:t,color:n}),t===Se&&(this._kings[n]=i),!0}_clear(t){this._hash^=this._pieceKey(t),delete this._board[t]}remove(t){const n=this.get(t);return this._clear(F[t]),n&&n.type===Se&&(this._kings[n.color]=De),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),n}_updateCastlingRights(){var r,i,o,s,l,a,u,h,d,f,y,m;this._hash^=this._castlingKey();const t=((r=this._board[F.e1])==null?void 0:r.type)===Se&&((i=this._board[F.e1])==null?void 0:i.color)===be,n=((o=this._board[F.e8])==null?void 0:o.type)===Se&&((s=this._board[F.e8])==null?void 0:s.color)===et;(!t||((l=this._board[F.a1])==null?void 0:l.type)!==Br||((a=this._board[F.a1])==null?void 0:a.color)!==be)&&(this._castling.w&=-65),(!t||((u=this._board[F.h1])==null?void 0:u.type)!==Br||((h=this._board[F.h1])==null?void 0:h.color)!==be)&&(this._castling.w&=-33),(!n||((d=this._board[F.a8])==null?void 0:d.type)!==Br||((f=this._board[F.a8])==null?void 0:f.color)!==et)&&(this._castling.b&=-65),(!n||((y=this._board[F.h8])==null?void 0:y.type)!==Br||((m=this._board[F.h8])==null?void 0:m.color)!==et)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){var o,s;if(this._epSquare===De)return;const t=this._epSquare+(this._turn===be?-16:16),n=this._epSquare+(this._turn===be?16:-16),r=[n+1,n-1];if(this._board[t]!==null||this._board[this._epSquare]!==null||((o=this._board[n])==null?void 0:o.color)!==Ar(this._turn)||((s=this._board[n])==null?void 0:s.type)!==me){this._hash^=this._epKey(),this._epSquare=De;return}const i=l=>{var a,u;return!(l&136)&&((a=this._board[l])==null?void 0:a.color)===this._turn&&((u=this._board[l])==null?void 0:u.type)===me};r.some(i)||(this._hash^=this._epKey(),this._epSquare=De)}_attacked(t,n,r){const i=[];for(let o=F.a8;o<=F.h1;o++){if(o&136){o+=7;continue}if(this._board[o]===void 0||this._board[o].color!==t)continue;const s=this._board[o],l=o-n;if(l===0)continue;const a=l+119;if(l1[a]&u1[s.type]){if(s.type===me){if(l>0&&s.color===be||l<=0&&s.color===et)if(r)i.push(_e(o));else return!0;continue}if(s.type==="n"||s.type==="k")if(r){i.push(_e(o));continue}else return!0;const u=a1[a];let h=o+u,d=!1;for(;h!==n;){if(this._board[h]!=null){d=!0;break}h+=u}if(!d)if(r){i.push(_e(o));continue}else return!0}}return r?i:!1}attackers(t,n){return n?this._attacked(n,F[t],!0):this._attacked(this._turn,F[t],!0)}_isKingAttacked(t){const n=this._kings[t];return n===-1?!1:this._attacked(Ar(t),n)}hash(){return this._hash.toString(16)}isAttacked(t,n){return this._attacked(n,F[t])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const t={b:0,n:0,r:0,q:0,k:0,p:0},n=[];let r=0,i=0;for(let o=F.a8;o<=F.h1;o++){if(i=(i+1)%2,o&136){o+=7;continue}const s=this._board[o];s&&(t[s.type]=s.type in t?t[s.type]+1:1,s.type===ao&&n.push(i),r++)}if(r===2)return!0;if(r===3&&(t[ao]===1||t[na]===1))return!0;if(r===t[ao]+2){let o=0;const s=n.length;for(let l=0;l<s;l++)o+=n[l];if(o===0||o===s)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:t=!1,square:n=void 0,piece:r=void 0}={}){const i=this._moves({square:n,piece:r});return t?i.map(o=>new Vi(this,o)):i.map(o=>this._moveToSan(o,i))}_moves({legal:t=!0,piece:n=void 0,square:r=void 0}={}){var y;const i=r?r.toLowerCase():void 0,o=n==null?void 0:n.toLowerCase(),s=[],l=this._turn,a=Ar(l);let u=F.a8,h=F.h1,d=!1;if(i)if(i in F)u=h=F[i],d=!0;else return[];for(let m=u;m<=h;m++){if(m&136){m+=7;continue}if(!this._board[m]||this._board[m].color===a)continue;const{type:w}=this._board[m];let O;if(w===me){if(o&&o!==w)continue;O=m+Zs[l][0],this._board[O]||(Qt(s,l,m,O,me),O=m+Zs[l][1],g1[l]===Tn(m)&&!this._board[O]&&Qt(s,l,m,O,me,void 0,B.BIG_PAWN));for(let g=2;g<4;g++)O=m+Zs[l][g],!(O&136)&&(((y=this._board[O])==null?void 0:y.color)===a?Qt(s,l,m,O,me,this._board[O].type,B.CAPTURE):O===this._epSquare&&Qt(s,l,m,O,me,me,B.EP_CAPTURE))}else{if(o&&o!==w)continue;for(let g=0,p=jc[w].length;g<p;g++){const v=jc[w][g];for(O=m;O+=v,!(O&136);){if(!this._board[O])Qt(s,l,m,O,w);else{if(this._board[O].color===l)break;Qt(s,l,m,O,w,this._board[O].type,B.CAPTURE);break}if(w===na||w===Se)break}}}}if((o===void 0||o===Se)&&(!d||h===this._kings[l])){if(this._castling[l]&B.KSIDE_CASTLE){const m=this._kings[l],w=m+2;!this._board[m+1]&&!this._board[w]&&!this._attacked(a,this._kings[l])&&!this._attacked(a,m+1)&&!this._attacked(a,w)&&Qt(s,l,this._kings[l],w,Se,void 0,B.KSIDE_CASTLE)}if(this._castling[l]&B.QSIDE_CASTLE){const m=this._kings[l],w=m-2;!this._board[m-1]&&!this._board[m-2]&&!this._board[m-3]&&!this._attacked(a,this._kings[l])&&!this._attacked(a,m-1)&&!this._attacked(a,w)&&Qt(s,l,this._kings[l],w,Se,void 0,B.QSIDE_CASTLE)}}if(!t||this._kings[l]===-1)return s;const f=[];for(let m=0,w=s.length;m<w;m++)this._makeMove(s[m]),this._isKingAttacked(l)||f.push(s[m]),this._undoMove();return f}move(t,{strict:n=!1}={}){let r=null;if(typeof t=="string")r=this._moveFromSan(t,n);else if(t===null)r=this._moveFromSan(Js,n);else if(typeof t=="object"){const o=this._moves();for(let s=0,l=o.length;s<l;s++)if(t.from===_e(o[s].from)&&t.to===_e(o[s].to)&&(!("promotion"in o[s])||t.promotion===o[s].promotion)){r=o[s];break}}if(!r)throw typeof t=="string"?new Error(`Invalid move: ${t}`):new Error(`Invalid move: ${JSON.stringify(t)}`);if(this.isCheck()&&r.flags&B.NULL_MOVE)throw new Error("Null move not allowed when in check");const i=new Vi(this,r);return this._makeMove(r),this._incPositionCount(),i}_push(t){this._history.push({move:t,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(t,n){this._hash^=this._pieceKey(t),this._board[n]=this._board[t],delete this._board[t],this._hash^=this._pieceKey(n)}_makeMove(t){var i,o,s,l;const n=this._turn,r=Ar(n);if(this._push(t),t.flags&B.NULL_MOVE){n===et&&this._moveNumber++,this._halfMoves++,this._turn=r,this._epSquare=De;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),t.captured&&(this._hash^=this._pieceKey(t.to)),this._movePiece(t.from,t.to),t.flags&B.EP_CAPTURE&&(this._turn===et?this._clear(t.to-16):this._clear(t.to+16)),t.promotion&&(this._clear(t.to),this._set(t.to,{type:t.promotion,color:n})),this._board[t.to].type===Se){if(this._kings[n]=t.to,t.flags&B.KSIDE_CASTLE){const a=t.to-1,u=t.to+1;this._movePiece(u,a)}else if(t.flags&B.QSIDE_CASTLE){const a=t.to+1,u=t.to-2;this._movePiece(u,a)}this._castling[n]=0}if(this._castling[n]){for(let a=0,u=Kt[n].length;a<u;a++)if(t.from===Kt[n][a].square&&this._castling[n]&Kt[n][a].flag){this._castling[n]^=Kt[n][a].flag;break}}if(this._castling[r]){for(let a=0,u=Kt[r].length;a<u;a++)if(t.to===Kt[r][a].square&&this._castling[r]&Kt[r][a].flag){this._castling[r]^=Kt[r][a].flag;break}}if(this._hash^=this._castlingKey(),t.flags&B.BIG_PAWN){let a;n===et?a=t.to-16:a=t.to+16,!(t.to-1&136)&&((i=this._board[t.to-1])==null?void 0:i.type)===me&&((o=this._board[t.to-1])==null?void 0:o.color)===r||!(t.to+1&136)&&((s=this._board[t.to+1])==null?void 0:s.type)===me&&((l=this._board[t.to+1])==null?void 0:l.color)===r?(this._epSquare=a,this._hash^=this._epKey()):this._epSquare=De}else this._epSquare=De;t.piece===me?this._halfMoves=0:t.flags&(B.CAPTURE|B.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,n===et&&this._moveNumber++,this._turn=r,this._hash^=Ys}undo(){const t=this._hash,n=this._undoMove();if(n){const r=new Vi(this,n);return this._decPositionCount(t),r}return null}_undoMove(){const t=this._history.pop();if(t===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const n=t.move;this._kings=t.kings,this._turn=t.turn,this._castling=t.castling,this._epSquare=t.epSquare,this._halfMoves=t.halfMoves,this._moveNumber=t.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=Ys;const r=this._turn,i=Ar(r);if(n.flags&B.NULL_MOVE)return n;if(this._movePiece(n.to,n.from),n.piece&&(this._clear(n.from),this._set(n.from,{type:n.piece,color:r})),n.captured)if(n.flags&B.EP_CAPTURE){let o;r===et?o=n.to-16:o=n.to+16,this._set(o,{type:me,color:i})}else this._set(n.to,{type:n.captured,color:i});if(n.flags&(B.KSIDE_CASTLE|B.QSIDE_CASTLE)){let o,s;n.flags&B.KSIDE_CASTLE?(o=n.to+1,s=n.to-1):(o=n.to-2,s=n.to+1),this._movePiece(s,o)}return n}pgn({newline:t=`
`,maxWidth:n=0}={}){const r=[];let i=!1;for(const f in this._header)this._header[f]&&r.push(`[${f} "${this._header[f]}"]`+t),i=!0;i&&this._history.length&&r.push(t);const o=f=>{const y=this._comments[this.fen()];if(typeof y<"u"){const m=f.length>0?" ":"";f=`${f}${m}{${y}}`}return f},s=[];for(;this._history.length>0;)s.push(this._undoMove());const l=[];let a="";for(s.length===0&&l.push(o(""));s.length>0;){a=o(a);const f=s.pop();if(!f)break;if(!this._history.length&&f.color==="b"){const y=`${this._moveNumber}. ...`;a=a?`${a} ${y}`:y}else f.color==="w"&&(a.length&&l.push(a),a=this._moveNumber+".");a=a+" "+this._moveToSan(f,this._moves({legal:!0})),this._makeMove(f)}if(a.length&&l.push(o(a)),l.push(this._header.Result||"*"),n===0)return r.join("")+l.join(" ");const u=function(){return r.length>0&&r[r.length-1]===" "?(r.pop(),!0):!1},h=function(f,y){for(const m of y.split(" "))if(m){if(f+m.length>n){for(;u();)f--;r.push(t),f=0}r.push(m),f+=m.length,r.push(" "),f++}return u()&&f--,f};let d=0;for(let f=0;f<l.length;f++){if(d+l[f].length>n&&l[f].includes("{")){d=h(d,l[f]);continue}d+l[f].length>n&&f!==0?(r[r.length-1]===" "&&r.pop(),r.push(t),d=0):f!==0&&(r.push(" "),d++),r.push(l[f]),d+=l[f].length}return r.join("")}header(...t){for(let n=0;n<t.length;n+=2)typeof t[n]=="string"&&typeof t[n+1]=="string"&&(this._header[t[n]]=t[n+1]);return this._header}setHeader(t,n){return this._header[t]=n??ra[t]??null,this.getHeaders()}removeHeader(t){return t in this._header?(this._header[t]=ra[t]||null,!0):!1}getHeaders(){const t={};for(const[n,r]of Object.entries(this._header))r!==null&&(t[n]=r);return t}loadPgn(t,{strict:n=!1,newlineChar:r=`\r?
`}={}){r!==`\r?
`&&(t=t.replace(new RegExp(r,"g"),`
`));const i=e1(t);this.reset();const o=i.headers;let s="";for(const u in o)u.toLowerCase()==="fen"&&(s=o[u]),this.header(u,o[u]);if(!n)s&&this.load(s,{preserveHeaders:!0});else if(o.SetUp==="1"){if(!("FEN"in o))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(o.FEN,{preserveHeaders:!0})}let l=i.root;for(;l;){if(l.move){const u=this._moveFromSan(l.move,n);if(u==null)throw new Error(`Invalid move in PGN: ${l.move}`);this._makeMove(u),this._incPositionCount()}l.comment!==void 0&&(this._comments[this.fen()]=l.comment),l=l.variations[0]}const a=i.result;a&&Object.keys(this._header).length&&this._header.Result!==a&&this.setHeader("Result",a)}_moveToSan(t,n){let r="";if(t.flags&B.KSIDE_CASTLE)r="O-O";else if(t.flags&B.QSIDE_CASTLE)r="O-O-O";else{if(t.flags&B.NULL_MOVE)return Js;if(t.piece!==me){const i=v1(t,n);r+=t.piece.toUpperCase()+i}t.flags&(B.CAPTURE|B.EP_CAPTURE)&&(t.piece===me&&(r+=_e(t.from)[0]),r+="x"),r+=_e(t.to),t.promotion&&(r+="="+t.promotion.toUpperCase())}return this._makeMove(t),this.isCheck()&&(this.isCheckmate()?r+="#":r+="+"),this._undoMove(),r}_moveFromSan(t,n=!1){let r=el(t);if(n||(r==="0-0"?r="O-O":r==="0-0-0"&&(r="O-O-O")),r==Js)return{color:this._turn,from:0,to:0,piece:"k",flags:B.NULL_MOVE};let i=Lc(r),o=this._moves({legal:!0,piece:i});for(let f=0,y=o.length;f<y;f++)if(r===el(this._moveToSan(o[f],o)))return o[f];if(n)return null;let s,l,a,u,h,d=!1;if(l=r.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),l?(s=l[1],a=l[2],u=l[3],h=l[4],a.length==1&&(d=!0)):(l=r.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),l&&(s=l[1],a=l[2],u=l[3],h=l[4],a.length==1&&(d=!0))),i=Lc(r),o=this._moves({legal:!0,piece:s||i}),!u)return null;for(let f=0,y=o.length;f<y;f++)if(a){if((!s||s.toLowerCase()==o[f].piece)&&F[a]==o[f].from&&F[u]==o[f].to&&(!h||h.toLowerCase()==o[f].promotion))return o[f];if(d){const m=_e(o[f].from);if((!s||s.toLowerCase()==o[f].piece)&&F[u]==o[f].to&&(a==m[0]||a==m[1])&&(!h||h.toLowerCase()==o[f].promotion))return o[f]}}else if(r===el(this._moveToSan(o[f],o)).replace("x",""))return o[f];return null}ascii(){let t=`   +------------------------+
`;for(let n=F.a8;n<=F.h1;n++){if(yi(n)===0&&(t+=" "+"87654321"[Tn(n)]+" |"),this._board[n]){const r=this._board[n].type,o=this._board[n].color===be?r.toUpperCase():r.toLowerCase();t+=" "+o+" "}else t+=" . ";n+1&136&&(t+=`|
`,n+=8)}return t+=`   +------------------------+
`,t+="     a  b  c  d  e  f  g  h",t}perft(t){const n=this._moves({legal:!1});let r=0;const i=this._turn;for(let o=0,s=n.length;o<s;o++)this._makeMove(n[o]),this._isKingAttacked(i)||(t-1>0?r+=this.perft(t-1):r++),this._undoMove();return r}setTurn(t){return this._turn==t?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const t=[];let n=[];for(let r=F.a8;r<=F.h1;r++)this._board[r]==null?n.push(null):n.push({square:_e(r),type:this._board[r].type,color:this._board[r].color}),r+1&136&&(t.push(n),n=[],r+=8);return t}squareColor(t){if(t in F){const n=F[t];return(Tn(n)+yi(n))%2===0?"light":"dark"}return null}history({verbose:t=!1}={}){const n=[],r=[];for(;this._history.length>0;)n.push(this._undoMove());for(;;){const i=n.pop();if(!i)break;t?r.push(new Vi(this,i)):r.push(this._moveToSan(i,this._moves())),this._makeMove(i)}return r}_getPositionCount(t){return this._positionCount.get(t)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(t){const n=this._positionCount.get(t)??0;n===1?this._positionCount.delete(t):this._positionCount.set(t,n-1)}_pruneComments(){const t=[],n={},r=i=>{i in this._comments&&(n[i]=this._comments[i])};for(;this._history.length>0;)t.push(this._undoMove());for(r(this.fen());;){const i=t.pop();if(!i)break;this._makeMove(i),r(this.fen())}this._comments=n}getComment(){return this._comments[this.fen()]}setComment(t){this._comments[this.fen()]=t.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const t=this._comments[this.fen()];return delete this._comments[this.fen()],t}getComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>({fen:t,comment:this._comments[t]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>{const n=this._comments[t];return delete this._comments[t],{fen:t,comment:n}})}setCastlingRights(t,n){for(const i of[Se,Yt])n[i]!==void 0&&(n[i]?this._castling[t]|=Ki[i]:this._castling[t]&=~Ki[i]);this._updateCastlingRights();const r=this.getCastlingRights(t);return(n[Se]===void 0||n[Se]===r[Se])&&(n[Yt]===void 0||n[Yt]===r[Yt])}getCastlingRights(t){return{[Se]:(this._castling[t]&Ki[Se])!==0,[Yt]:(this._castling[t]&Ki[Yt])!==0}}moveNumber(){return this._moveNumber}}function y1(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}const wi="abcdefgh".split(""),uo={a8:"bR",b8:"bN",c8:"bB",d8:"bQ",e8:"bK",f8:"bB",g8:"bN",h8:"bR",a7:"bP",b7:"bP",c7:"bP",d7:"bP",e7:"bP",f7:"bP",g7:"bP",h7:"bP",a2:"wP",b2:"wP",c2:"wP",d2:"wP",e2:"wP",f2:"wP",g2:"wP",h2:"wP",a1:"wR",b1:"wN",c1:"wB",d1:"wQ",e1:"wK",f1:"wB",g1:"wN",h1:"wR"},w1={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},S1={a:7,b:6,c:5,d:4,e:3,f:2,g:1,h:0},x1=[7,6,5,4,3,2,1,0],C1=[0,1,2,3,4,5,6,7],Mc={wP:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),wR:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),c.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),c.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wN:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#ffffff",stroke:"#000000"}}),c.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#ffffff",stroke:"#000000"}}),c.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),c.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]}))})),wB:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt"}},{children:[c.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),c.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),c.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),c.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wQ:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"}},{children:[c.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),c.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),c.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),c.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),c.jsx("circle",{cx:"6",cy:"12",r:"2"}),c.jsx("circle",{cx:"14",cy:"9",r:"2"}),c.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),c.jsx("circle",{cx:"31",cy:"9",r:"2"}),c.jsx("circle",{cx:"39",cy:"12",r:"2"})]}))})),wK:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#ffffff",stroke:"#000000"}}),c.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),c.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),c.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]}))})),bP:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),bR:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]}))})),bN:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#000000",stroke:"#000000"}}),c.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#000000",stroke:"#000000"}}),c.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),c.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),c.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]}))})),bB:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeLinecap:"butt"}},{children:[c.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),c.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),c.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),c.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]}))})),bQ:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}},{children:[c.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:"#000000"}}),c.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),c.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),c.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),c.jsx("circle",{cx:"6",cy:"12",r:"2"}),c.jsx("circle",{cx:"14",cy:"9",r:"2"}),c.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),c.jsx("circle",{cx:"31",cy:"9",r:"2"}),c.jsx("circle",{cx:"39",cy:"12",r:"2"}),c.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),c.jsxs("g",Object.assign({style:{fill:"none",stroke:"#ffffff"}},{children:[c.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),c.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),c.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),c.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]}))]}))})),bK:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),c.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#000000",stroke:"#000000"}}),c.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),c.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]}))}))};function ia(e,t,n){const r=t/8,i=e==="white"?w1:S1,o=e==="white"?x1:C1,s=i[n[0]]*r+r/2,l=o[parseInt(n[1],10)-1]*r+r/2;return{x:s,y:l}}function bc(e){let t=!1;return Object.keys(uo).forEach(n=>{e[n]!==uo[n]&&(t=!0)}),Object.keys(e).forEach(n=>{uo[n]!==e[n]&&(t=!0)}),t}function k1(e,t){const n={removed:{},added:{}};return Object.keys(e).forEach(r=>{t[r]!==e[r]&&(n.removed[r]=e[r])}),Object.keys(t).forEach(r=>{e[r]!==t[r]&&(n.added[r]=t[r])}),n}function Rc(e){return e==="start"?uo:typeof e=="string"?E1(e):e}function E1(e){if(!_1(e))return{};e=e.replace(/ .+$/,"");const t=e.split("/"),n={};let r=8;for(let i=0;i<8;i++){const o=t[i].split("");let s=0;for(let l=0;l<o.length;l++)if(o[l].search(/[1-8]/)!==-1){const a=parseInt(o[l],10);s=s+a}else{const a=wi[s]+r;n[a]=T1(o[l]),s=s+1}r=r-1}return n}function _1(e){e=e.replace(/ .+$/,""),e=O1(e);const t=e.split("/");if(t.length!==8)return!1;for(let n=0;n<8;n++)if(t[n].length!==8||t[n].search(/[^kqrnbpKQRNBP1]/)!==-1)return!1;return!0}function O1(e){return e.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")}function T1(e){return e.toLowerCase()===e?"b"+e.toUpperCase():"w"+e.toUpperCase()}const D1=(e,t=!0,n,r)=>{const[i,o]=_.useState([]),[s,l]=_.useState([]),[a,u]=_.useState();_.useEffect(()=>{Array.isArray(e)&&(h(),o(e==null?void 0:e.filter(m=>m[0]!==m[1])))},[e]),_.useEffect(()=>{n==null||n(s)},[s]);function h(){l([]),u(void 0)}const d=(m,w)=>{t&&u([m,w,r])},f=[...s,...i];return{arrows:f,newArrow:a,clearArrows:h,drawNewArrow:d,setArrows:l,onArrowDrawEnd:(m,w)=>{if(m===w||!t)return;let O;const g=[m,w,r];f.every(([v,E])=>!(v===m&&E===w))?O=[...s,g]:O=s.filter(([v,E])=>!(v===m&&E===w)),u(void 0),l(O)}}},mh=_.createContext({}),Ht=()=>_.useContext(mh),N1=_.forwardRef(({allowDragOutsideBoard:e=!0,animationDuration:t=300,areArrowsAllowed:n=!0,arePiecesDraggable:r=!0,arePremovesAllowed:i=!1,autoPromoteToQueen:o=!1,boardOrientation:s="white",boardWidth:l,children:a,clearPremovesOnRightClick:u=!0,customArrows:h,customArrowColor:d="rgb(255,170,0)",customBoardStyle:f,customNotationStyle:y,customDarkSquareStyle:m={backgroundColor:"#B58863"},customDropSquareStyle:w={boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.75)"},customLightSquareStyle:O={backgroundColor:"#F0D9B5"},customPieces:g,customPremoveDarkSquareStyle:p={backgroundColor:"#A42323"},customPremoveLightSquareStyle:v={backgroundColor:"#BD2828"},customSquare:E="div",customSquareStyles:D,dropOffBoardAction:j="snapback",id:I=0,isDraggablePiece:M=()=>!0,getPositionObject:q=()=>{},onArrowsChange:P=()=>{},onDragOverSquare:z=()=>{},onMouseOutSquare:H=()=>{},onMouseOverSquare:G=()=>{},onPieceClick:ae=()=>{},onPieceDragBegin:he=()=>{},onPieceDragEnd:pe=()=>{},onPieceDrop:ye=()=>!0,onPieceDropOffBoard:L=()=>{},onPromotionCheck:U=(Le,Ve,An)=>(An==="wP"&&Le[1]==="7"&&Ve[1]==="8"||An==="bP"&&Le[1]==="2"&&Ve[1]==="1")&&Math.abs(Le.charCodeAt(0)-Ve.charCodeAt(0))<=1,onPromotionPieceSelect:W=()=>!0,onSparePieceDrop:te=()=>!0,onSquareClick:se=()=>{},onSquareRightClick:lt=()=>{},position:$e="start",promotionDialogVariant:Et="default",promotionToSquare:ze=null,showBoardNotation:V=!0,showPromotionDialog:mt=!1,snapToCursor:Pt=!0},mn)=>{const[Le,Ve]=_.useState(Rc($e)),[An,os]=_.useState({removed:{},added:{}}),[$n,Bt]=_.useState(void 0),[ss,zn]=_.useState(mt&&!o),[ls,_i]=_.useState(null),[as,Cr]=_.useState(ze),[kr,Er]=_.useState([]),_t=_.useRef(kr),[_r,vn]=_.useState(),[us,cs]=_.useState(Object.assign(Object.assign({},Mc),g)),[fs,Fn]=_.useState(!1),Un=_.useRef(),[Hn,Bn]=_.useState(!1),[ds,hs]=_.useState(null);_.useImperativeHandle(mn,()=>({clearPremoves(Z=!0){Wn(Z)}})),_.useEffect(()=>{cs(Object.assign(Object.assign({},Mc),g))},[g]),_.useEffect(()=>{zn(mt),Cr(ze)},[ze,mt]),_.useEffect(()=>{var Z,T,Ee;Dr();const Y=Rc($e),we=k1(Le,Y),Je=((Z=Object.keys(we.added))===null||Z===void 0?void 0:Z.length)<=2?(Ee=(T=Object.entries(we.added))===null||T===void 0?void 0:T[0])===null||Ee===void 0?void 0:Ee[1][0]:void 0;if(Hn)Ve(Y),Bn(!1),i&&Tr(Je),Un.current&&clearTimeout(Un.current);else if(fs)Ve(Y),Bn(!1),i&&Tr(Je);else{bc(Y)&&$n!==void 0?Bt(Je):bc(Y)?Bt(void 0):Bt("b"),os(we),Bn(!0);const Ke=setTimeout(()=>{Ve(Y),Bn(!1),i&&Tr(Je)},t);Un.current=Ke}return Fn(!1),q(Y),Or(),()=>{clearTimeout(Un.current)}},[$e]);const{arrows:Oi,newArrow:ps,clearArrows:Or,drawNewArrow:gs,onArrowDrawEnd:ms}=D1(h,n,P,d);function vs(Z,T,Ee,Y){if(Z===T)return;if(Or(),i&&Hn||i&&($n===Ee[0]||_t.current.filter(Je=>Je.piece[0]===Ee[0]).length>0)){const Je=[..._t.current];Je.push({sourceSq:Z,targetSq:T,piece:Ee}),_t.current=Je,Er([...Je]),Dr();return}if(!i&&Hn)return;const we=Object.assign({},Le);Fn(!!Y),Bt(Ee[0]),ye.length?ye(Z,T,Ee)||(Wn(),Fn(!1)):(delete we[Z],we[T]=Ee,Ve(we)),Dr(),q(we)}function ys(Z){const T=Object.assign({},Le);delete T[Z],Ve(T),q(T)}function Tr(Z){if(_t.current.length===0)return;const T=_t.current[0];if(T.piece[0]!==void 0&&T.piece[0]!==Z&&ye.length)if(Bt(T.piece[0]),Fn(!0),ye(T.sourceSq,T.targetSq,T.piece)){const Y=[..._t.current];Y.shift(),_t.current=Y,Er([...Y])}else Wn()}function ws(Z,T){if(!te(Z,T))return;const Y=Object.assign({},Le);Y[T]=Z,Ve(Y),q(Y)}function Wn(Z=!0){Z&&Bt(void 0),_t.current=[],Er([])}function Dr(){_i(null),Cr(null),zn(!1)}function Ss(Z){vn(Z)}function x(Z){if(_r){if(_r===Z){vn(void 0),u&&Wn(!1),lt(Z);return}}else vn(void 0)}function Wt(){vn(void 0)}const Ze={allowDragOutsideBoard:e,animationDuration:t,arePiecesDraggable:r,arePremovesAllowed:i,arrows:Oi,autoPromoteToQueen:o,boardOrientation:s,boardWidth:l,chessPieces:us,clearArrows:Or,clearCurrentRightClickDown:Wt,currentPosition:Le,currentRightClickDown:_r,customArrowColor:d,customBoardStyle:f,customDarkSquareStyle:m,customDropSquareStyle:w,customLightSquareStyle:O,customNotationStyle:y,customPremoveDarkSquareStyle:p,customPremoveLightSquareStyle:v,customSquare:E,customSquareStyles:D,deletePieceFromSquare:ys,drawNewArrow:gs,dropOffBoardAction:j,handleSetPosition:vs,handleSparePieceDrop:ws,id:I,isDraggablePiece:M,isWaitingForAnimation:Hn,lastPieceColour:$n,lastSquareDraggedOver:ds,newArrow:ps,onArrowDrawEnd:ms,onDragOverSquare:z,onMouseOutSquare:H,onMouseOverSquare:G,onPieceClick:ae,onPieceDragBegin:he,onPieceDragEnd:pe,onPieceDrop:ye,onPieceDropOffBoard:L,onPromotionCheck:U,onPromotionPieceSelect:W,onRightClickDown:Ss,onRightClickUp:x,onSparePieceDrop:te,onSquareClick:se,positionDifferences:An,premoves:kr,promoteFromSquare:ls,promoteToSquare:as,promotionDialogVariant:Et,setLastSquareDraggedOver:hs,setPromoteFromSquare:_i,setPromoteToSquare:Cr,setShowPromoteDialog:zn,showBoardNotation:V,showPromoteDialog:ss,snapToCursor:Pt};return c.jsx(mh.Provider,Object.assign({value:Ze},{children:a}))});function j1({row:e,col:t}){const{boardOrientation:n,boardWidth:r,customDarkSquareStyle:i,customLightSquareStyle:o,customNotationStyle:s}=Ht(),l=o.backgroundColor,a=i.backgroundColor,u=t===0,h=e===7,d=u&&h;function f(){return n==="white"?8-e:e+1}function y(){return n==="black"?wi[7-t]:wi[t]}function m(){return c.jsxs(c.Fragment,{children:[c.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:l}),$c(r,s))},{children:f()})),c.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:l}),Ac(r,s))},{children:y()}))]})}function w(){return c.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:t%2!==0?a:l}),Ac(r,s))},{children:y()}))}function O(){return c.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},n==="black"?{color:e%2===0?a:l}:{color:e%2===0?a:l}),$c(r,s))},{children:f()}))}return d?m():h?w():u?O():null}const Ac=(e,t)=>Object.assign({alignSelf:"flex-end",paddingLeft:e/8-e/48,fontSize:e/48},t),$c=(e,t)=>Object.assign({alignSelf:"flex-start",paddingRight:e/8-e/48,fontSize:e/48},t),vh=_.createContext({dragDropManager:void 0});function at(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var zc=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),tl=function(){return Math.random().toString(36).substring(7).split("").join(".")},Fc={INIT:"@@redux/INIT"+tl(),REPLACE:"@@redux/REPLACE"+tl(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+tl()}};function P1(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function yh(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(at(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(at(1));return n(yh)(e,t)}if(typeof e!="function")throw new Error(at(2));var i=e,o=t,s=[],l=s,a=!1;function u(){l===s&&(l=s.slice())}function h(){if(a)throw new Error(at(3));return o}function d(w){if(typeof w!="function")throw new Error(at(4));if(a)throw new Error(at(5));var O=!0;return u(),l.push(w),function(){if(O){if(a)throw new Error(at(6));O=!1,u();var p=l.indexOf(w);l.splice(p,1),s=null}}}function f(w){if(!P1(w))throw new Error(at(7));if(typeof w.type>"u")throw new Error(at(8));if(a)throw new Error(at(9));try{a=!0,o=i(o,w)}finally{a=!1}for(var O=s=l,g=0;g<O.length;g++){var p=O[g];p()}return w}function y(w){if(typeof w!="function")throw new Error(at(10));i=w,f({type:Fc.REPLACE})}function m(){var w,O=d;return w={subscribe:function(p){if(typeof p!="object"||p===null)throw new Error(at(11));function v(){p.next&&p.next(h())}v();var E=O(v);return{unsubscribe:E}}},w[zc]=function(){return this},w}return f({type:Fc.INIT}),r={dispatch:f,subscribe:d,getState:h,replaceReducer:y},r[zc]=m,r}function K(e,t,...n){if(L1()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let r;if(t===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;r=new Error(t.replace(/%s/g,function(){return n[i++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function L1(){return typeof process<"u"&&!0}function I1(e,t,n){return t.split(".").reduce((r,i)=>r&&r[i]?r[i]:n||null,e)}function M1(e,t){return e.filter(n=>n!==t)}function wh(e){return typeof e=="object"}function b1(e,t){const n=new Map,r=o=>{n.set(o,n.has(o)?n.get(o)+1:1)};e.forEach(r),t.forEach(r);const i=[];return n.forEach((o,s)=>{o===1&&i.push(s)}),i}function R1(e,t){return e.filter(n=>t.indexOf(n)>-1)}const iu="dnd-core/INIT_COORDS",es="dnd-core/BEGIN_DRAG",ou="dnd-core/PUBLISH_DRAG_SOURCE",ts="dnd-core/HOVER",ns="dnd-core/DROP",rs="dnd-core/END_DRAG";function Uc(e,t){return{type:iu,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const A1={type:iu,payload:{clientOffset:null,sourceClientOffset:null}};function $1(e){return function(n=[],r={publishSource:!0}){const{publishSource:i=!0,clientOffset:o,getSourceClientOffset:s}=r,l=e.getMonitor(),a=e.getRegistry();e.dispatch(Uc(o)),z1(n,l,a);const u=H1(n,l);if(u==null){e.dispatch(A1);return}let h=null;if(o){if(!s)throw new Error("getSourceClientOffset must be defined");F1(s),h=s(u)}e.dispatch(Uc(o,h));const f=a.getSource(u).beginDrag(l,u);if(f==null)return;U1(f),a.pinSource(u);const y=a.getSourceType(u);return{type:es,payload:{itemType:y,item:f,sourceId:u,clientOffset:o||null,sourceClientOffset:h||null,isSourcePublic:!!i}}}}function z1(e,t,n){K(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(r){K(n.getSource(r),"Expected sourceIds to be registered.")})}function F1(e){K(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function U1(e){K(wh(e),"Item must be an object.")}function H1(e,t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function B1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){B1(e,i,n[i])})}return e}function V1(e){return function(n={}){const r=e.getMonitor(),i=e.getRegistry();K1(r),G1(r).forEach((s,l)=>{const a=Q1(s,l,i,r),u={type:ns,payload:{dropResult:W1({},n,a)}};e.dispatch(u)})}}function K1(e){K(e.isDragging(),"Cannot call drop while not dragging."),K(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function Q1(e,t,n,r){const i=n.getTarget(e);let o=i?i.drop(r,e):void 0;return q1(o),typeof o>"u"&&(o=t===0?{}:r.getDropResult()),o}function q1(e){K(typeof e>"u"||wh(e),"Drop result must either be an object or undefined.")}function G1(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function Y1(e){return function(){const n=e.getMonitor(),r=e.getRegistry();X1(n);const i=n.getSourceId();return i!=null&&(r.getSource(i,!0).endDrag(n,i),r.unpinSource()),{type:rs}}}function X1(e){K(e.isDragging(),"Cannot call endDrag while not dragging.")}function oa(e,t){return t===null?e===null:Array.isArray(e)?e.some(n=>n===t):e===t}function Z1(e){return function(n,{clientOffset:r}={}){J1(n);const i=n.slice(0),o=e.getMonitor(),s=e.getRegistry(),l=o.getItemType();return tm(i,s,l),em(i,o,s),nm(i,o,s),{type:ts,payload:{targetIds:i,clientOffset:r||null}}}}function J1(e){K(Array.isArray(e),"Expected targetIds to be an array.")}function em(e,t,n){K(t.isDragging(),"Cannot call hover while not dragging."),K(!t.didDrop(),"Cannot call hover after drop.");for(let r=0;r<e.length;r++){const i=e[r];K(e.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array.");const o=n.getTarget(i);K(o,"Expected targetIds to be registered.")}}function tm(e,t,n){for(let r=e.length-1;r>=0;r--){const i=e[r],o=t.getTargetType(i);oa(o,n)||e.splice(r,1)}}function nm(e,t,n){e.forEach(function(r){n.getTarget(r).hover(t,r)})}function rm(e){return function(){if(e.getMonitor().isDragging())return{type:ou}}}function im(e){return{beginDrag:$1(e),publishDragSource:rm(e),hover:Z1(e),drop:V1(e),endDrag:Y1(e)}}class om{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:n}=this.store;function r(o){return(...s)=>{const l=o.apply(t,s);typeof l<"u"&&n(l)}}const i=im(this);return Object.keys(i).reduce((o,s)=>{const l=i[s];return o[s]=r(l),o},{})}dispatch(t){this.store.dispatch(t)}constructor(t,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}}function sm(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Sh(e,t){return{x:e.x-t.x,y:e.y-t.y}}function lm(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:r}=e;return!t||!n||!r?null:Sh(sm(t,r),n)}function am(e){const{clientOffset:t,initialClientOffset:n}=e;return!t||!n?null:Sh(t,n)}const Jr=[],su=[];Jr.__IS_NONE__=!0;su.__IS_ALL__=!0;function um(e,t){return e===Jr?!1:e===su||typeof t>"u"?!0:R1(t,e).length>0}class cm{subscribeToStateChange(t,n={}){const{handlerIds:r}=n;K(typeof t=="function","listener must be a function."),K(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const o=()=>{const s=this.store.getState(),l=s.stateId;try{l===i||l===i+1&&!um(s.dirtyHandlerIds,r)||t()}finally{i=l}};return this.store.subscribe(o)}subscribeToOffsetChange(t){K(typeof t=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const i=this.store.getState().dragOffset;i!==n&&(n=i,t())};return this.store.subscribe(r)}canDragSource(t){if(!t)return!1;const n=this.registry.getSource(t);return K(n,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:n.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const n=this.registry.getTarget(t);if(K(n,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(t),i=this.getItemType();return oa(r,i)&&n.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const n=this.registry.getSource(t,!0);if(K(n,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(t),i=this.getItemType();return r!==i?!1:n.isDragging(this,t)}isOverTarget(t,n={shallow:!1}){if(!t)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const i=this.registry.getTargetType(t),o=this.getItemType();if(o&&!oa(i,o))return!1;const s=this.getTargetIds();if(!s.length)return!1;const l=s.indexOf(t);return r?l===s.length-1:l>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return lm(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return am(this.store.getState().dragOffset)}constructor(t,n){this.store=t,this.registry=n}}const Hc=typeof global<"u"?global:self,xh=Hc.MutationObserver||Hc.WebKitMutationObserver;function Ch(e){return function(){const n=setTimeout(i,0),r=setInterval(i,50);function i(){clearTimeout(n),clearInterval(r),e()}}}function fm(e){let t=1;const n=new xh(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}const dm=typeof xh=="function"?fm:Ch;class hm{enqueueTask(t){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const n=this.index;if(this.index++,t[n].call(),this.index>this.capacity){for(let r=0,i=t.length-this.index;r<i;r++)t[r]=t[r+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=dm(this.flush),this.requestErrorThrow=Ch(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class pm{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,n){this.onError=t,this.release=n,this.task=null}}class gm{create(t){const n=this.freeTasks,r=n.length?n.pop():new pm(this.onError,i=>n[n.length]=i);return r.task=t,r}constructor(t){this.onError=t,this.freeTasks=[]}}const kh=new hm,mm=new gm(kh.registerPendingError);function vm(e){kh.enqueueTask(mm.create(e))}const lu="dnd-core/ADD_SOURCE",au="dnd-core/ADD_TARGET",uu="dnd-core/REMOVE_SOURCE",is="dnd-core/REMOVE_TARGET";function ym(e){return{type:lu,payload:{sourceId:e}}}function wm(e){return{type:au,payload:{targetId:e}}}function Sm(e){return{type:uu,payload:{sourceId:e}}}function xm(e){return{type:is,payload:{targetId:e}}}function Cm(e){K(typeof e.canDrag=="function","Expected canDrag to be a function."),K(typeof e.beginDrag=="function","Expected beginDrag to be a function."),K(typeof e.endDrag=="function","Expected endDrag to be a function.")}function km(e){K(typeof e.canDrop=="function","Expected canDrop to be a function."),K(typeof e.hover=="function","Expected hover to be a function."),K(typeof e.drop=="function","Expected beginDrag to be a function.")}function sa(e,t){if(t&&Array.isArray(e)){e.forEach(n=>sa(n,!1));return}K(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var ft;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(ft||(ft={}));let Em=0;function _m(){return Em++}function Om(e){const t=_m().toString();switch(e){case ft.SOURCE:return`S${t}`;case ft.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function Bc(e){switch(e[0]){case"S":return ft.SOURCE;case"T":return ft.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function Wc(e,t){const n=e.entries();let r=!1;do{const{done:i,value:[,o]}=n.next();if(o===t)return!0;r=!!i}while(!r);return!1}class Tm{addSource(t,n){sa(t),Cm(n);const r=this.addHandler(ft.SOURCE,t,n);return this.store.dispatch(ym(r)),r}addTarget(t,n){sa(t,!0),km(n);const r=this.addHandler(ft.TARGET,t,n);return this.store.dispatch(wm(r)),r}containsHandler(t){return Wc(this.dragSources,t)||Wc(this.dropTargets,t)}getSource(t,n=!1){return K(this.isSourceId(t),"Expected a valid source ID."),n&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return K(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return K(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return K(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return Bc(t)===ft.SOURCE}isTargetId(t){return Bc(t)===ft.TARGET}removeSource(t){K(this.getSource(t),"Expected an existing source."),this.store.dispatch(Sm(t)),vm(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){K(this.getTarget(t),"Expected an existing target."),this.store.dispatch(xm(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const n=this.getSource(t);K(n,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=n}unpinSource(){K(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,n,r){const i=Om(t);return this.types.set(i,n),t===ft.SOURCE?this.dragSources.set(i,r):t===ft.TARGET&&this.dropTargets.set(i,r),i}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const Dm=(e,t)=>e===t;function Nm(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function jm(e,t,n=Dm){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function Pm(e=Jr,t){switch(t.type){case ts:break;case lu:case au:case is:case uu:return Jr;case es:case ou:case rs:case ns:default:return su}const{targetIds:n=[],prevTargetIds:r=[]}=t.payload,i=b1(n,r);if(!(i.length>0||!jm(n,r)))return Jr;const s=r[r.length-1],l=n[n.length-1];return s!==l&&(s&&i.push(s),l&&i.push(l)),i}function Lm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Im(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Lm(e,i,n[i])})}return e}const Vc={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Mm(e=Vc,t){const{payload:n}=t;switch(t.type){case iu:case es:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case ts:return Nm(e.clientOffset,n.clientOffset)?e:Im({},e,{clientOffset:n.clientOffset});case rs:case ns:return Vc;default:return e}}function bm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){bm(e,i,n[i])})}return e}const Rm={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Am(e=Rm,t){const{payload:n}=t;switch(t.type){case es:return Kn({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case ou:return Kn({},e,{isSourcePublic:!0});case ts:return Kn({},e,{targetIds:n.targetIds});case is:return e.targetIds.indexOf(n.targetId)===-1?e:Kn({},e,{targetIds:M1(e.targetIds,n.targetId)});case ns:return Kn({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case rs:return Kn({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function $m(e=0,t){switch(t.type){case lu:case au:return e+1;case uu:case is:return e-1;default:return e}}function zm(e=0){return e+1}function Fm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Um(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Fm(e,i,n[i])})}return e}function Hm(e={},t){return{dirtyHandlerIds:Pm(e.dirtyHandlerIds,{type:t.type,payload:Um({},t.payload,{prevTargetIds:I1(e,"dragOperation.targetIds",[])})}),dragOffset:Mm(e.dragOffset,t),refCount:$m(e.refCount,t),dragOperation:Am(e.dragOperation,t),stateId:zm(e.stateId)}}function Bm(e,t=void 0,n={},r=!1){const i=Wm(r),o=new cm(i,new Tm(i)),s=new om(i,o),l=e(s,t,n);return s.receiveBackend(l),s}function Wm(e){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return yh(Hm,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function Vm(e,t){if(e==null)return{};var n=Km(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Km(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}let Kc=0;const co=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Qm=_.memo(function(t){var{children:n}=t,r=Vm(t,["children"]);const[i,o]=qm(r);return _.useEffect(()=>{if(o){const s=Eh();return++Kc,()=>{--Kc===0&&(s[co]=null)}}},[]),c.jsx(vh.Provider,{value:i,children:n})});function qm(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=Gm(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}function Gm(e,t=Eh(),n,r){const i=t;return i[co]||(i[co]={dragDropManager:Bm(e,t,n,r)}),i[co]}function Eh(){return typeof global<"u"?global:window}var Ym=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};const In=typeof window<"u"?_.useLayoutEffect:_.useEffect;function _h(e,t,n){const[r,i]=_.useState(()=>t(e)),o=_.useCallback(()=>{const s=t(e);Ym(r,s)||(i(s),n&&n())},[r,e,n]);return In(o),[r,o]}function Xm(e,t,n){const[r,i]=_h(e,t,n);return In(function(){const s=e.getHandlerId();if(s!=null)return e.subscribeToStateChange(i,{handlerIds:[s]})},[e,i]),r}function Oh(e,t,n){return Xm(t,e||(()=>({})),()=>n.reconnect())}function Th(e,t){const n=[...t||[]];return t==null&&typeof e!="function"&&n.push(e),_.useMemo(()=>typeof e=="function"?e():e,n)}function Zm(e){return _.useMemo(()=>e.hooks.dragSource(),[e])}function Jm(e){return _.useMemo(()=>e.hooks.dragPreview(),[e])}let nl=!1,rl=!1;class ev{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){K(!nl,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return nl=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{nl=!1}}isDragging(){if(!this.sourceId)return!1;K(!rl,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return rl=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{rl=!1}}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,n){return this.internalMonitor.isOverTarget(t,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let il=!1;class tv{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}canDrop(){if(!this.targetId)return!1;K(!il,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return il=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{il=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function nv(e,t,n){const r=n.getRegistry(),i=r.addTarget(e,t);return[i,()=>r.removeTarget(i)]}function rv(e,t,n){const r=n.getRegistry(),i=r.addSource(e,t);return[i,()=>r.removeSource(i)]}function la(e,t,n,r){let i=n?n.call(r,e,t):void 0;if(i!==void 0)return!!i;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;const l=Object.prototype.hasOwnProperty.bind(t);for(let a=0;a<o.length;a++){const u=o[a];if(!l(u))return!1;const h=e[u],d=t[u];if(i=n?n.call(r,h,d,u):void 0,i===!1||i===void 0&&h!==d)return!1}return!0}function aa(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function iv(e){if(typeof e.type=="string")return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function ov(e){return(t=null,n=null)=>{if(!_.isValidElement(t)){const o=t;return e(o,n),o}const r=t;return iv(r),sv(r,n?o=>e(o,n):e)}}function Dh(e){const t={};return Object.keys(e).forEach(n=>{const r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{const i=ov(r);t[n]=()=>i}}),t}function Qc(e,t){typeof e=="function"?e(t):e.current=t}function sv(e,t){const n=e.ref;return K(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?_.cloneElement(e,{ref:r=>{Qc(n,r),Qc(t,r)}}):_.cloneElement(e,{ref:t})}class lv{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?t?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),n):(this.lastConnectedDragSource=t,n):n}reconnectDragPreview(t=!1){const n=this.dragPreview,r=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!la(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!la(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=Dh({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,aa(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,aa(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class av{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!la(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=Dh({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,aa(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function Rn(){const{dragDropManager:e}=_.useContext(vh);return K(e!=null,"Expected drag drop context"),e}function uv(e,t){const n=Rn(),r=_.useMemo(()=>new lv(n.getBackend()),[n]);return In(()=>(r.dragSourceOptions=e||null,r.reconnect(),()=>r.disconnectDragSource()),[r,e]),In(()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,t]),r}function cv(){const e=Rn();return _.useMemo(()=>new ev(e),[e])}class fv{beginDrag(){const t=this.spec,n=this.monitor;let r=null;return typeof t.item=="object"?r=t.item:typeof t.item=="function"?r=t.item(n):r={},r??null}canDrag(){const t=this.spec,n=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(n):!0}isDragging(t,n){const r=this.spec,i=this.monitor,{isDragging:o}=r;return o?o(i):n===t.getSourceId()}endDrag(){const t=this.spec,n=this.monitor,r=this.connector,{end:i}=t;i&&i(n.getItem(),n),r.reconnect()}constructor(t,n,r){this.spec=t,this.monitor=n,this.connector=r}}function dv(e,t,n){const r=_.useMemo(()=>new fv(e,t,n),[t,n]);return _.useEffect(()=>{r.spec=e},[e]),r}function hv(e){return _.useMemo(()=>{const t=e.type;return K(t!=null,"spec.type must be defined"),t},[e])}function pv(e,t,n){const r=Rn(),i=dv(e,t,n),o=hv(e);In(function(){if(o!=null){const[l,a]=rv(o,i,r);return t.receiveHandlerId(l),n.receiveHandlerId(l),a}},[r,t,n,i,o])}function gv(e,t){const n=Th(e,t);K(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=cv(),i=uv(n.options,n.previewOptions);return pv(n,r,i),[Oh(n.collect,r,i),Zm(i),Jm(i)]}function mv(e){const n=Rn().getMonitor(),[r,i]=_h(n,e);return _.useEffect(()=>n.subscribeToOffsetChange(i)),_.useEffect(()=>n.subscribeToStateChange(i)),r}function vv(e){return _.useMemo(()=>e.hooks.dropTarget(),[e])}function yv(e){const t=Rn(),n=_.useMemo(()=>new av(t.getBackend()),[t]);return In(()=>(n.dropTargetOptions=e||null,n.reconnect(),()=>n.disconnectDropTarget()),[e]),n}function wv(){const e=Rn();return _.useMemo(()=>new tv(e),[e])}function Sv(e){const{accept:t}=e;return _.useMemo(()=>(K(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class xv{canDrop(){const t=this.spec,n=this.monitor;return t.canDrop?t.canDrop(n.getItem(),n):!0}hover(){const t=this.spec,n=this.monitor;t.hover&&t.hover(n.getItem(),n)}drop(){const t=this.spec,n=this.monitor;if(t.drop)return t.drop(n.getItem(),n)}constructor(t,n){this.spec=t,this.monitor=n}}function Cv(e,t){const n=_.useMemo(()=>new xv(e,t),[t]);return _.useEffect(()=>{n.spec=e},[e]),n}function kv(e,t,n){const r=Rn(),i=Cv(e,t),o=Sv(e);In(function(){const[l,a]=nv(o,i,r);return t.receiveHandlerId(l),n.receiveHandlerId(l),a},[r,t,i,n,o.map(s=>s.toString()).join("|")])}function Ev(e,t){const n=Th(e,t),r=wv(),i=yv(n.options);return kv(n,r,i),[Oh(n.collect,r,i),vv(i)]}function Nh(e){let t=null;return()=>(t==null&&(t=e()),t)}function _v(e,t){return e.filter(n=>n!==t)}function Ov(e,t){const n=new Set,r=o=>n.add(o);e.forEach(r),t.forEach(r);const i=[];return n.forEach(o=>i.push(o)),i}class Tv{enter(t){const n=this.entered.length,r=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(t));return this.entered=Ov(this.entered.filter(r),[t]),n===0&&this.entered.length>0}leave(t){const n=this.entered.length;return this.entered=_v(this.entered.filter(this.isNodeInDocument),t),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class Dv{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const i=this.config.exposeProperties[r];i!=null&&(n[r]={value:i(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,n){return n===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const jh="__NATIVE_FILE__",Ph="__NATIVE_URL__",Lh="__NATIVE_TEXT__",Ih="__NATIVE_HTML__";var qc=Object.freeze({__proto__:null,FILE:jh,HTML:Ih,TEXT:Lh,URL:Ph});function ol(e,t,n){const r=t.reduce((i,o)=>i||e.getData(o),"");return r??n}const ua={[jh]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[Ih]:{exposeProperties:{html:(e,t)=>ol(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[Ph]:{exposeProperties:{urls:(e,t)=>ol(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[Lh]:{exposeProperties:{text:(e,t)=>ol(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function Nv(e,t){const n=ua[e];if(!n)throw new Error(`native type ${e} has no configuration`);const r=new Dv(n);return r.loadDataTransfer(t),r}function sl(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(ua).filter(n=>{const r=ua[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(i=>t.indexOf(i)>-1):!1})[0]||null}const jv=Nh(()=>/firefox/i.test(navigator.userAgent)),Mh=Nh(()=>!!window.safari);class Gc{interpolate(t){const{xs:n,ys:r,c1s:i,c2s:o,c3s:s}=this;let l=n.length-1;if(t===n[l])return r[l];let a=0,u=s.length-1,h;for(;a<=u;){h=Math.floor(.5*(a+u));const y=n[h];if(y<t)a=h+1;else if(y>t)u=h-1;else return r[h]}l=Math.max(0,u);const d=t-n[l],f=d*d;return r[l]+i[l]*d+o[l]*f+s[l]*d*f}constructor(t,n){const{length:r}=t,i=[];for(let y=0;y<r;y++)i.push(y);i.sort((y,m)=>t[y]<t[m]?-1:1);const o=[],s=[];let l,a;for(let y=0;y<r-1;y++)l=t[y+1]-t[y],a=n[y+1]-n[y],o.push(l),s.push(a/l);const u=[s[0]];for(let y=0;y<o.length-1;y++){const m=s[y],w=s[y+1];if(m*w<=0)u.push(0);else{l=o[y];const O=o[y+1],g=l+O;u.push(3*g/((g+O)/m+(g+l)/w))}}u.push(s[s.length-1]);const h=[],d=[];let f;for(let y=0;y<u.length-1;y++){f=s[y];const m=u[y],w=1/o[y],O=m+u[y+1]-f-f;h.push((f-m-O)*w),d.push(O*w*w)}this.xs=t,this.ys=n,this.c1s=u,this.c2s=h,this.c3s=d}}const Pv=1;function bh(e){const t=e.nodeType===Pv?e:e.parentElement;if(!t)return null;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function Qi(e){return{x:e.clientX,y:e.clientY}}function Lv(e){var t;return e.nodeName==="IMG"&&(jv()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function Iv(e,t,n,r){let i=e?t.width:n,o=e?t.height:r;return Mh()&&e&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}function Mv(e,t,n,r,i){const o=Lv(t),l=bh(o?e:t),a={x:n.x-l.x,y:n.y-l.y},{offsetWidth:u,offsetHeight:h}=e,{anchorX:d,anchorY:f}=r,{dragPreviewWidth:y,dragPreviewHeight:m}=Iv(o,t,u,h),w=()=>{let j=new Gc([0,.5,1],[a.y,a.y/h*m,a.y+m-h]).interpolate(f);return Mh()&&o&&(j+=(window.devicePixelRatio-1)*m),j},O=()=>new Gc([0,.5,1],[a.x,a.x/u*y,a.x+y-u]).interpolate(d),{offsetX:g,offsetY:p}=i,v=g===0||g,E=p===0||p;return{x:v?g:O(),y:E?p:w()}}let bv=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,n){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=n}};function Rv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Rv(e,i,n[i])})}return e}class Av{profile(){var t,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,n,r){return this.sourcePreviewNodeOptions.set(t,r),this.sourcePreviewNodes.set(t,n),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,n,r){this.sourceNodes.set(t,n),this.sourceNodeOptions.set(t,r);const i=s=>this.handleDragStart(s,t),o=s=>this.handleSelectStart(s);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",i),n.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),n.removeEventListener("dragstart",i),n.removeEventListener("selectstart",o),n.setAttribute("draggable","false")}}connectDropTarget(t,n){const r=s=>this.handleDragEnter(s,t),i=s=>this.handleDragOver(s,t),o=s=>this.handleDrop(s,t);return n.addEventListener("dragenter",r),n.addEventListener("dragover",i),n.addEventListener("drop",o),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",i),n.removeEventListener("drop",o)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(t);return Yc({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(t);return Yc({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(qc).some(n=>qc[n]===t)}beginDragNativeItem(t,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=Nv(t,n),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,n){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(t,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(t,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(t,n){this.dropTargetIds.unshift(n)}constructor(t,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const o=this.sourceNodes.get(i);return o&&bh(o)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:o}=this;this.dragStartSourceIds=null;const s=Qi(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:s});const{dataTransfer:l}=i,a=sl(l);if(this.monitor.isDragging()){if(l&&typeof l.setDragImage=="function"){const h=this.monitor.getSourceId(),d=this.sourceNodes.get(h),f=this.sourcePreviewNodes.get(h)||d;if(f){const{anchorX:y,anchorY:m,offsetX:w,offsetY:O}=this.getCurrentSourcePreviewNodeOptions(),v=Mv(d,f,s,{anchorX:y,anchorY:m},{offsetX:w,offsetY:O});l.setDragImage(f,v.x,v.y)}}try{l==null||l.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(a)this.beginDragNativeItem(a);else{if(l&&!l.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:l}=i,a=sl(l);a&&this.beginDragNativeItem(a,l)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:o}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,o.length>0&&this.actions.hover(o,{clientOffset:Qi(i)}),o.some(l=>this.monitor.canDropOnTarget(l))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:o}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=Qi(i),this.scheduleHover(o),(o||[]).some(l=>this.monitor.canDropOnTarget(l))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var o;i.preventDefault(),(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}else sl(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:o}=this;this.dropTargetIds=[],this.actions.hover(o,{clientOffset:Qi(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const o=i.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(i.preventDefault(),o.dragDrop()))},this.options=new bv(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new Tv(this.isNodeInDocument)}}let qi;function $v(){return qi||(qi=new Image,qi.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),qi}const zv=function(t,n,r){return new Av(t,n,r)};function Xc({isPremovedPiece:e=!1,piece:t,square:n,squares:r}){const{animationDuration:i,arePiecesDraggable:o,boardWidth:s,boardOrientation:l,chessPieces:a,currentPosition:u,deletePieceFromSquare:h,dropOffBoardAction:d,id:f,isDraggablePiece:y,isWaitingForAnimation:m,onPieceClick:w,onPieceDragBegin:O,onPieceDragEnd:g,onPieceDropOffBoard:p,onPromotionCheck:v,positionDifferences:E}=Ht(),[D,j]=_.useState({opacity:1,zIndex:5,touchAction:"none",cursor:o&&y({piece:t,sourceSquare:n})?"-webkit-grab":"default"}),[{canDrag:I,isDragging:M},q,P]=gv(()=>({type:"piece",item:()=>(O(t,n),{piece:t,square:n,id:f}),end:(H,G)=>{g(t,n),!G.didDrop()&&(d==="trash"&&h(n),p==null||p(n,t))},collect:H=>({canDrag:y({piece:t,sourceSquare:n}),isDragging:!!H.isDragging()})}),[t,n,u,f]);P($v(),{captureDraggingState:!0}),_.useEffect(()=>{j(H=>Object.assign(Object.assign({},H),{opacity:M?0:1}))},[M]),_.useEffect(()=>{var H;const G=(H=E.removed)===null||H===void 0?void 0:H[n];if(!E.added||!G)return;const ae=Object.entries(E.added).find(([he,pe])=>pe===G||v(n,he,G));if(m&&G&&ae&&!e){const he=n,pe=ae[0];if(he&&pe){const ye=s/8;j(L=>Object.assign(Object.assign({},L),{transform:`translate(${(l==="black"?-1:1)*(pe.charCodeAt(0)-he.charCodeAt(0))*ye}px, ${(l==="black"?-1:1)*(Number(he[1])-Number(pe[1]))*ye}px)`,transition:`transform ${i}ms`,zIndex:6}))}}},[E]),_.useEffect(()=>{const{sourceSq:H}=z();H&&j(G=>Object.assign(Object.assign({},G),{transform:"translate(0px, 0px)",transition:"transform 0ms"}))},[u]),_.useEffect(()=>{j(H=>Object.assign(Object.assign({},H),{cursor:o&&y({piece:t,sourceSquare:n})?"-webkit-grab":"default"}))},[n,u,o]);function z(){return{sourceSq:r[n]}}return c.jsx("div",Object.assign({ref:o&&I?q:null,onClick:()=>w(t,n),"data-piece":t,style:D},{children:typeof a[t]=="function"?a[t]({squareWidth:s/8,isDragging:M,square:n}):c.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:s/8,height:s/8,style:{display:"block"}},{children:c.jsx("g",{children:a[t]})}))}))}function Fv({square:e,squareColor:t,setSquares:n,squareHasPremove:r,children:i}){const o=_.useRef(null),{autoPromoteToQueen:s,boardWidth:l,boardOrientation:a,clearArrows:u,currentPosition:h,currentRightClickDown:d,customBoardStyle:f,customDarkSquareStyle:y,customDropSquareStyle:m,customLightSquareStyle:w,customPremoveDarkSquareStyle:O,customPremoveLightSquareStyle:g,customSquare:p,customSquareStyles:v,drawNewArrow:E,handleSetPosition:D,handleSparePieceDrop:j,isWaitingForAnimation:I,lastPieceColour:M,lastSquareDraggedOver:q,onArrowDrawEnd:P,onDragOverSquare:z,onMouseOutSquare:H,onMouseOverSquare:G,onPieceDrop:ae,onPromotionCheck:he,onRightClickDown:pe,onRightClickUp:ye,onSquareClick:L,setLastSquareDraggedOver:U,setPromoteFromSquare:W,setPromoteToSquare:te,setShowPromoteDialog:se}=Ht(),[{isOver:lt},$e]=Ev(()=>({accept:"piece",drop:Et,collect:V=>({isOver:!!V.isOver()})}),[e,h,ae,I,M]);function Et(V){if(V.isSpare){j(V.piece,e);return}he(V.square,e,V.piece)?s?D(V.square,e,V.piece[0]==="w"?"wQ":"bQ"):(W(V.square),te(e),se(!0)):D(V.square,e,V.piece,!0)}_.useEffect(()=>{if(o.current){const{x:V,y:mt}=o.current.getBoundingClientRect();n(Pt=>Object.assign(Object.assign({},Pt),{[e]:{x:V,y:mt}}))}},[l,a]);const ze=Object.assign(Object.assign(Object.assign(Object.assign({},Uv(e,a,f)),t==="black"?y:w),r&&(t==="black"?O:g)),lt&&m);return c.jsx("div",Object.assign({ref:$e,style:ze,"data-square-color":t,"data-square":e,onTouchMove:V=>{var mt;const Pt=V.touches[0],mn=document.elementsFromPoint(Pt.clientX,Pt.clientY),Le=(mt=mn==null?void 0:mn.find(Ve=>Ve.getAttribute("data-square")))===null||mt===void 0?void 0:mt.getAttribute("data-square");Le&&Le!==q&&(U(Le),z(Le))},onMouseOver:V=>{V.buttons===2&&d&&E(d,e),!(V.relatedTarget&&V.currentTarget.contains(V.relatedTarget))&&G(e)},onMouseOut:V=>{V.relatedTarget&&V.currentTarget.contains(V.relatedTarget)||H(e)},onMouseDown:V=>{V.button===2&&pe(e)},onMouseUp:V=>{V.button===2&&(d&&P(d,e),ye(e))},onDragEnter:()=>z(e),onClick:()=>{const V=h[e];L(e,V),u()},onContextMenu:V=>{V.preventDefault()}},{children:typeof p=="string"?c.jsx(p,Object.assign({ref:o,style:Object.assign(Object.assign(Object.assign({},Jc(l)),Zc),!r&&(v==null?void 0:v[e]))},{children:i})):c.jsx(p,Object.assign({ref:o,square:e,squareColor:t,style:Object.assign(Object.assign(Object.assign({},Jc(l)),Zc),!r&&(v==null?void 0:v[e]))},{children:i}))}))}const Zc={display:"flex",justifyContent:"center"},Jc=e=>({width:e/8,height:e/8}),Uv=(e,t,n)=>n!=null&&n.borderRadius?e==="a1"?t==="white"?{borderBottomLeftRadius:n.borderRadius}:{borderTopRightRadius:n.borderRadius}:e==="a8"?t==="white"?{borderTopLeftRadius:n.borderRadius}:{borderBottomRightRadius:n.borderRadius}:e==="h1"?t==="white"?{borderBottomRightRadius:n.borderRadius}:{borderTopLeftRadius:n.borderRadius}:e==="h8"?t==="white"?{borderTopRightRadius:n.borderRadius}:{borderBottomLeftRadius:n.borderRadius}:{}:{};function Hv(){const[e,t]=_.useState({}),{arePremovesAllowed:n,boardOrientation:r,boardWidth:i,currentPosition:o,id:s,premoves:l,showBoardNotation:a}=Ht(),u=_.useMemo(()=>{const h=[];return n?(l.forEach((d,f)=>{const{sourceSq:y,targetSq:m,piece:w}=d,O=h.find(g=>{var p;return g.piece===w&&((p=g.premovesRoute.at(-1))===null||p===void 0?void 0:p.targetSq)===y});O?O.premovesRoute.push({sourceSq:y,targetSq:m,index:f}):h.push({piece:w,premovesRoute:[{sourceSq:y,targetSq:m,index:f}]})}),h):[]},[l]);return c.jsx("div",Object.assign({"data-boardid":s},{children:[...Array(8)].map((h,d)=>c.jsx("div",Object.assign({style:{display:"flex",flexWrap:"nowrap",width:i}},{children:[...Array(8)].map((f,y)=>{const m=r==="black"?wi[7-y]+(d+1):wi[y]+(8-d),w=y%2===d%2?"white":"black",O=l.find(p=>p.sourceSq===m||p.targetSq===m),g=u.filter(({premovesRoute:p})=>{var v;return((v=p.at(-1))===null||v===void 0?void 0:v.targetSq)===m}).sort((p,v)=>{var E,D;return((E=v.premovesRoute.at(-1))===null||E===void 0?void 0:E.index)-((D=p.premovesRoute.at(-1))===null||D===void 0?void 0:D.index)}).at(0);return c.jsxs(Fv,Object.assign({square:m,squareColor:w,setSquares:t,squareHasPremove:!!O},{children:[!O&&o[m]&&c.jsx(Xc,{piece:o[m],square:m,squares:e}),g&&c.jsx(Xc,{isPremovedPiece:!0,piece:g.piece,square:m,squares:e}),a&&c.jsx(j1,{row:d,col:y})]}),`${y}${d}`)})}),d.toString()))}))}const Bv=()=>{const{arrows:e,newArrow:t,boardOrientation:n,boardWidth:r,customArrowColor:i}=Ht(),o=[...e,t].filter(Boolean);return c.jsx("svg",Object.assign({width:r,height:r,style:{position:"absolute",top:"0",left:"0",pointerEvents:"none",zIndex:"10"}},{children:o.map((s,l)=>{const[a,u,h]=s;if(a===u)return null;const d=ia(n,r,a),f=ia(n,r,u);let y=r/32;const m=l===e.length;e.some(v=>v[0]!==a&&v[1]===u)&&!m&&(y=r/16);const w=f.x-d.x,O=f.y-d.y,g=Math.hypot(O,w),p={x:d.x+w*(g-y)/g,y:d.y+O*(g-y)/g};return c.jsxs(_.Fragment,{children:[c.jsx("marker",Object.assign({id:`arrowhead-${l}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto"},{children:c.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:h??i})})),c.jsx("line",{x1:d.x,y1:d.y,x2:p.x,y2:p.y,opacity:m?"0.5":"0.65",stroke:h??i,strokeWidth:m?.9*r/40:r/40,markerEnd:`url(#arrowhead-${l})`})]},`${a}-${u}${m?"-active":""}`)})}))};function Wv({option:e}){const[t,n]=_.useState(!1),{boardWidth:r,chessPieces:i,customDarkSquareStyle:o,customLightSquareStyle:s,handleSetPosition:l,onPromotionPieceSelect:a,promoteFromSquare:u,promoteToSquare:h,promotionDialogVariant:d}=Ht(),f=()=>{switch(e[1]){case"Q":return o.backgroundColor;case"R":return s.backgroundColor;case"N":return d==="default"?s.backgroundColor:o.backgroundColor;case"B":return d==="default"?o.backgroundColor:s.backgroundColor}};return c.jsx("div",Object.assign({onClick:()=>{a(e,u??void 0,h??void 0)&&l(u,h,e,!0)},onMouseOver:()=>n(!0),onMouseOut:()=>n(!1),"data-piece":e,style:{cursor:"pointer",backgroundColor:t?f():`${f()}aa`,borderRadius:"4px",transition:"all 0.1s ease-out"}},{children:typeof i[e]=="function"?c.jsx("div",Object.assign({style:{transition:"all 0.1s ease-out",transform:t?"scale(1)":"scale(0.85)"}},{children:i[e]({squareWidth:r/8,isDragging:!1})})):c.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:r/8,height:r/8,style:{transition:"all 0.1s ease-out",transform:t?"scale(1)":"scale(0.85)"}},{children:c.jsx("g",{children:i[e]})}))}))}function Vv(){const{boardOrientation:e,boardWidth:t,promotionDialogVariant:n,promoteToSquare:r}=Ht(),i=(r==null?void 0:r[1])==="1"?"b":"w",o=[`${i??"w"}Q`,`${i??"w"}R`,`${i??"w"}N`,`${i??"w"}B`],s={default:{display:"grid",gridTemplateColumns:"1fr 1fr",transform:`translate(${-t/8}px, ${-t/8}px)`},vertical:{transform:`translate(${-t/16}px, ${-t/16}px)`},modal:{display:"flex",justifyContent:"center",alignItems:"center",transform:`translate(0px, ${3*t/8}px)`,width:"100%",height:`${t/4}px`,top:0,backgroundColor:"white",left:0}},l=ia(e,t,r||"a8");return c.jsx("div",Object.assign({style:Object.assign({position:"absolute",top:`${l==null?void 0:l.y}px`,left:`${l==null?void 0:l.x}px`,zIndex:1e3},s[n]),title:"Choose promotion piece"},{children:o.map(a=>c.jsx(Wv,{option:a},a))}))}const Kv={whiteKing:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"crisp-edges"},viewBox:"0 0 4210 12970",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",width:"250",height:"250"},{children:c.jsx("g",{children:c.jsx("path",{style:{fill:"black",fillRule:"nonzero"},d:"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z"})})}))};function Qv({children:e}){try{return c.jsx(c.Fragment,{children:e})}catch(t){return console.log(t),c.jsx(Rh,{showError:!0})}}function Rh({showError:e=!1}){return c.jsxs("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},{children:[c.jsx("div",Object.assign({style:{width:250,height:250,transform:"rotate(90deg)"}},{children:Kv.whiteKing})),e&&c.jsx("h1",{children:"Something went wrong"})]}))}function qv(){const e=_.useRef(null),{boardWidth:t,clearCurrentRightClickDown:n,onPromotionPieceSelect:r,setShowPromoteDialog:i,showPromoteDialog:o,customBoardStyle:s}=Ht();return _.useEffect(()=>{function l(a){e.current&&!e.current.contains(a.target)&&n()}return document.addEventListener("mouseup",l),()=>{document.removeEventListener("mouseup",l)}},[]),t?c.jsx("div",Object.assign({style:{perspective:"1000px"}},{children:c.jsxs("div",Object.assign({ref:e,style:Object.assign(Object.assign({position:"relative"},Gv(t)),s)},{children:[c.jsx(Hv,{}),c.jsx(Bv,{}),o&&c.jsxs(c.Fragment,{children:[c.jsx("div",{onClick:()=>{i(!1),r==null||r()},style:{position:"absolute",top:"0",left:"0",zIndex:"100",backgroundColor:"rgba(22,21,18,.7)",width:t,height:t}}),c.jsx(Vv,{})]})]}))})):c.jsx(Rh,{})}const Gv=e=>({cursor:"default",height:e,width:e});var cn;(function(e){e.mouse="mouse",e.touch="touch",e.keyboard="keyboard"})(cn||(cn={}));class Yv{get delay(){var t;return(t=this.args.delay)!==null&&t!==void 0?t:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var t;return(t=this.args.ignoreContextMenu)!==null&&t!==void 0?t:!1}get enableHoverOutsideTarget(){var t;return(t=this.args.enableHoverOutsideTarget)!==null&&t!==void 0?t:!1}get enableKeyboardEvents(){var t;return(t=this.args.enableKeyboardEvents)!==null&&t!==void 0?t:!1}get enableMouseEvents(){var t;return(t=this.args.enableMouseEvents)!==null&&t!==void 0?t:!1}get enableTouchEvents(){var t;return(t=this.args.enableTouchEvents)!==null&&t!==void 0?t:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var t,n,r,i;return(i=(r=(t=this.args)===null||t===void 0?void 0:t.delayTouchStart)!==null&&r!==void 0?r:(n=this.args)===null||n===void 0?void 0:n.delay)!==null&&i!==void 0?i:0}get delayMouseStart(){var t,n,r,i;return(i=(r=(t=this.args)===null||t===void 0?void 0:t.delayMouseStart)!==null&&r!==void 0?r:(n=this.args)===null||n===void 0?void 0:n.delay)!==null&&i!==void 0?i:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var t;if(!((t=this.context)===null||t===void 0)&&t.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var t;return((t=this.args)===null||t===void 0?void 0:t.rootElement)||this.document}constructor(t,n){this.args=t,this.context=n}}function Xv(e,t,n,r){return Math.sqrt(Math.pow(Math.abs(n-e),2)+Math.pow(Math.abs(r-t),2))}function Zv(e,t,n,r,i){if(!i)return!1;const o=Math.atan2(r-t,n-e)*180/Math.PI+180;for(let s=0;s<i.length;++s){const l=i[s];if(l&&(l.start==null||o>=l.start)&&(l.end==null||o<=l.end))return!0}return!1}const Jv={Left:1,Right:2,Center:4},ey={Left:0,Center:1,Right:2};function ll(e){return e.button===void 0||e.button===ey.Left}function ty(e){return e.buttons===void 0||(e.buttons&Jv.Left)===0}function Ah(e){return!!e.targetTouches}const ny=1;function ry(e){const t=e.nodeType===ny?e:e.parentElement;if(!t)return;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function iy(e,t){if(e.targetTouches.length===1)return Ro(e.targetTouches[0]);if(t&&e.touches.length===1&&e.touches[0].target===t.target)return Ro(e.touches[0])}function Ro(e,t){return Ah(e)?iy(e,t):{x:e.clientX,y:e.clientY}}const ef=(()=>{let e=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return e=!0,!0}}))}catch{}return e})(),$r={[cn.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[cn.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[cn.keyboard]:{keydown:"keydown"}};class ei{profile(){var t;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get document(){return this.options.document}setup(){const t=this.options.rootElement;t&&(K(!ei.isSetUp,"Cannot have two Touch backends at the same time."),ei.isSetUp=!0,this.addEventListener(t,"start",this.getTopMoveStartHandler()),this.addEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(t,"move",this.handleTopMove),this.addEventListener(t,"move",this.handleTopMoveCapture,!0),this.addEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(t,"keydown",this.handleCancelOnEscape,!0))}teardown(){const t=this.options.rootElement;t&&(ei.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(t,"start",this.handleTopMoveStart),this.removeEventListener(t,"move",this.handleTopMoveCapture,!0),this.removeEventListener(t,"move",this.handleTopMove),this.removeEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(t,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(t,n,r,i=!1){const o=ef?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(s){const l=$r[s][n];l&&t.addEventListener(l,r,o)})}removeEventListener(t,n,r,i=!1){const o=ef?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(s){const l=$r[s][n];l&&t.removeEventListener(l,r,o)})}connectDragSource(t,n){const r=this.handleMoveStart.bind(this,t);return this.sourceNodes.set(t,n),this.addEventListener(n,"start",r),()=>{this.sourceNodes.delete(t),this.removeEventListener(n,"start",r)}}connectDragPreview(t,n,r){return this.sourcePreviewNodeOptions.set(t,r),this.sourcePreviewNodes.set(t,n),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDropTarget(t,n){const r=this.options.rootElement;if(!this.document||!r)return()=>{};const i=o=>{if(!this.document||!r||!this.monitor.isDragging())return;let s;switch(o.type){case $r.mouse.move:s={x:o.clientX,y:o.clientY};break;case $r.touch.move:var l,a;s={x:((l=o.touches[0])===null||l===void 0?void 0:l.clientX)||0,y:((a=o.touches[0])===null||a===void 0?void 0:a.clientY)||0};break}const u=s!=null?this.document.elementFromPoint(s.x,s.y):void 0,h=u&&n.contains(u);if(u===n||h)return this.handleMove(o,t)};return this.addEventListener(this.document.body,"move",i),this.targetNodes.set(t,n),()=>{this.document&&(this.targetNodes.delete(t),this.removeEventListener(this.document.body,"move",i))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(t){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=t,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{t&&!t.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!t||!t.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(t.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(t,n,r){this.getSourceClientOffset=i=>{const o=this.sourceNodes.get(i);return o&&ry(o)},this.handleTopMoveStartCapture=i=>{ll(i)&&(this.moveStartSourceIds=[])},this.handleMoveStart=i=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(i)},this.handleTopMoveStart=i=>{if(!ll(i))return;const o=Ro(i);o&&(Ah(i)&&(this.lastTargetTouchFallback=i.targetTouches[0]),this._mouseClientOffset=o),this.waitingForDelay=!1},this.handleTopMoveStartDelay=i=>{if(!ll(i))return;const o=i.type===$r.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,i),o),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(i,o)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(o)},this.handleTopMove=i=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:o,dragOverTargetIds:s}=this,l=this.options.enableHoverOutsideTarget,a=Ro(i,this.lastTargetTouchFallback);if(!a)return;if(this._isScrolling||!this.monitor.isDragging()&&Zv(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,a.x,a.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&o&&Xv(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,a.x,a.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(o,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const u=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(u),this.actions.publishDragSource(),i.cancelable&&i.preventDefault();const h=(s||[]).map(m=>this.targetNodes.get(m)).filter(m=>!!m),d=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(a.x,a.y,h):this.document.elementsFromPoint(a.x,a.y),f=[];for(const m in d){if(!d.hasOwnProperty(m))continue;let w=d[m];for(w!=null&&f.push(w);w;)w=w.parentElement,w&&f.indexOf(w)===-1&&f.push(w)}const y=f.filter(m=>h.indexOf(m)>-1).map(m=>this._getDropTargetId(m)).filter(m=>!!m).filter((m,w,O)=>O.indexOf(m)===w);if(l)for(const m in this.targetNodes){const w=this.targetNodes.get(m);if(u&&w&&w.contains(u)&&y.indexOf(m)===-1){y.unshift(m);break}}y.reverse(),this.actions.hover(y,{clientOffset:a})},this._getDropTargetId=i=>{const o=this.targetNodes.keys();let s=o.next();for(;s.done===!1;){const l=s.value;if(i===this.targetNodes.get(l))return l;s=o.next()}},this.handleTopMoveEndCapture=i=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!ty(i)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}i.cancelable&&i.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=i=>{i.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new Yv(r,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(cn.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(cn.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(cn.keyboard)}}const oy=function(t,n={},r={}){return new ei(t,n,r)},sy=_.createContext({isCustomDndProviderSet:!1}),ly=({children:e})=>c.jsx(c.Fragment,{children:e}),ay=({customDndBackend:e,customDndBackendOptions:t,children:n})=>{const[r,i]=_.useState(),[o,s]=_.useState(!1),[l,a]=_.useState(!1),{isCustomDndProviderSet:u}=_.useContext(sy);_.useEffect(()=>{a("ontouchstart"in window),s(!0),i(window)},[]);const h=u?ly:Qm;return o?r?c.jsx(h,Object.assign({backend:e||(l?oy:zv),context:r,options:e?t:void 0},{children:n})):c.jsx(c.Fragment,{children:n}):null};function uy({boardContainer:e}){const{boardWidth:t,chessPieces:n,id:r,snapToCursor:i,allowDragOutsideBoard:o}=Ht(),s=mv(f=>({item:f.getItem(),clientOffset:f.getClientOffset(),sourceClientOffset:f.getSourceClientOffset(),isDragging:f.isDragging()})),{isDragging:l,item:a,clientOffset:u,sourceClientOffset:h}=s,d=_.useCallback((f,y)=>{if(!f||!y)return{display:"none"};let{x:m,y:w}=i?f:y;const O=t/8/2;if(i&&(m-=O,w-=O),!o){const{left:p,top:v}=e,E=p-O,D=v-O,j=p+t-O,I=v+t-O;m=Math.max(E,Math.min(m,j)),w=Math.max(D,Math.min(w,I))}const g=`translate(${m}px, ${w}px)`;return{transform:g,WebkitTransform:g,touchAction:"none"}},[t,o,i,e]);return l&&a.id===r?c.jsx("div",Object.assign({style:{position:"fixed",pointerEvents:"none",zIndex:10,left:0,top:0}},{children:c.jsx("div",Object.assign({style:d(u,h)},{children:typeof n[a.piece]=="function"?n[a.piece]({squareWidth:t/8,isDragging:!0}):c.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:t/8,height:t/8},{children:c.jsx("g",{children:n[a.piece]})}))}))})):null}const cy=_.forwardRef((e,t)=>{const{customDndBackend:n,customDndBackendOptions:r,onBoardWidthChange:i}=e,o=y1(e,["customDndBackend","customDndBackendOptions","onBoardWidthChange"]),[s,l]=_.useState(e.boardWidth),a=_.useRef(null),u=_.useRef(null),[h,d]=_.useState({left:0,top:0}),f=_.useMemo(()=>{var y;return(y=a.current)===null||y===void 0?void 0:y.getBoundingClientRect()},[a.current]);return _.useEffect(()=>{s&&(i==null||i(s))},[s]),_.useEffect(()=>{d({left:f!=null&&f.left?f==null?void 0:f.left:0,top:f!=null&&f.top?f==null?void 0:f.top:0})},[f]),_.useEffect(()=>{var y;if(e.boardWidth===void 0&&(!((y=a.current)===null||y===void 0)&&y.offsetWidth)){const m=new ResizeObserver(()=>{var w;l((w=a.current)===null||w===void 0?void 0:w.offsetWidth)});return m.observe(a.current),()=>{m.disconnect()}}},[a.current]),c.jsx(Qv,{children:c.jsxs("div",Object.assign({ref:u,style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[c.jsx("div",{ref:a,style:{width:"100%"}}),c.jsx(ay,Object.assign({customDndBackend:n,customDndBackendOptions:r},{children:s&&c.jsxs(N1,Object.assign({boardWidth:s},o,{ref:t},{children:[c.jsx(uy,{boardContainer:h}),c.jsx(qv,{})]}))}))]}))})}),fy=({game:e,username:t})=>{const n=_.useMemo(()=>new Ic,[]),[r,i]=_.useState("start"),[o,s]=_.useState(-1),[l,a]=_.useState([]),[u,h]=_.useState(!1),[d,f]=_.useState(!1),y=_.useRef(null),m=_.useRef(null),w=_.useRef({}),O=_.useRef(-1);_.useEffect(()=>{const P=z=>{const H=new Audio(z);return H.crossOrigin="anonymous",H.load(),H};w.current={move:P("https://cdn.jsdelivr.net/gh/lichess-org/lila@master/public/sound/standard/Move.ogg"),capture:P("https://cdn.jsdelivr.net/gh/lichess-org/lila@master/public/sound/standard/Capture.ogg"),check:P("https://cdn.jsdelivr.net/gh/lichess-org/lila@master/public/sound/standard/Capture.ogg"),castle:P("https://cdn.jsdelivr.net/gh/lichess-org/lila@master/public/sound/standard/Move.ogg"),end:P("https://cdn.jsdelivr.net/gh/lichess-org/lila@master/public/sound/standard/GenericNotify.ogg")}},[]),_.useEffect(()=>{const P=o-O.current;if(!d&&Math.abs(P)===1){let z="move";if(o===-1)z="move";else if(o>=0&&o<l.length){const G=l[o];G.san.includes("#")?z="end":G.san.includes("+")?z="check":G.san.includes("x")?z="capture":G.san.includes("O-O")&&(z="castle")}const H=w.current[z];H&&(H.currentTime=0,H.play().catch(G=>{console.warn("Audio play failed:",G)}))}O.current=o},[o,l,d]);const g=_.useMemo(()=>{try{const P=new Ic(r);if(P.inCheck()){const z=P.turn(),H=P.board();for(let G=0;G<8;G++)for(let ae=0;ae<8;ae++){const he=H[G][ae];if(he&&he.type==="k"&&he.color===z){const pe=String.fromCharCode(97+ae),ye=8-G;return{[`${pe}${ye}`]:{background:"radial-gradient(circle, rgba(255, 0, 0, 0.8) 0%, rgba(255, 0, 0, 0) 70%)",borderRadius:"50%"}}}}}}catch(P){console.error("Check highlight error",P)}return{}},[r]);_.useEffect(()=>{if(e)try{n.loadPgn(e.pgn);const z=n.history({verbose:!0}).map(H=>({from:H.from,to:H.to,san:H.san,fen:H.after||H.fen||""}));a(z),i("start"),s(-1),O.current=-1,h(!1)}catch(P){console.error("Error loading PGN:",P)}},[e,n]),_.useEffect(()=>(u?y.current=window.setInterval(()=>{D()},800):y.current&&clearInterval(y.current),()=>{y.current&&clearInterval(y.current)}),[u,o,l.length]),_.useEffect(()=>{o>=l.length-1&&u&&h(!1)},[o,l,u]);const p=_.useCallback(P=>{if(!(P<-1||P>=l.length)){if(P===-1)i("start");else{const z=l[P];z&&z.fen&&i(z.fen)}s(P)}},[l]),v=_.useCallback(()=>{h(!1),p(-1)},[p]),E=_.useCallback(()=>{h(!1),p(o-1)},[o,p]),D=_.useCallback(()=>{p(o+1)},[o,p]),j=_.useCallback(()=>{h(!1),p(l.length-1)},[l,p]);_.useEffect(()=>{const P=z=>{var H;if(((H=document.activeElement)==null?void 0:H.tagName)!=="INPUT")switch(z.key){case"ArrowLeft":z.preventDefault(),E();break;case"ArrowRight":z.preventDefault(),D();break;case"ArrowUp":z.preventDefault(),v();break;case"ArrowDown":z.preventDefault(),j();break;case" ":z.preventDefault(),M();break}};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[E,D,v,j]);const I=P=>{m.current||(P.deltaY<0?E():P.deltaY>0&&D(),m.current=window.setTimeout(()=>{m.current=null},30))},M=()=>{o>=l.length-1?(v(),h(!0)):h(P=>!P)};if(!e)return c.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-gray-50 text-gray-400 p-8 text-center h-full",children:[c.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mb-6 shadow-sm border border-gray-100",children:c.jsx(R0,{className:"w-8 h-8 opacity-30"})}),c.jsx("h3",{className:"text-xl font-light text-gray-900 mb-2",children:"Select a Game"}),c.jsx("p",{className:"font-light",children:"Choose a match from the sidebar to review the board."})]});const q=e.white.username.toLowerCase()===t.toLowerCase();return c.jsxs("div",{className:"flex-1 flex flex-col h-full bg-white overflow-hidden",children:[c.jsxs("div",{className:"p-5 bg-white border-b border-gray-200 flex justify-between items-center shadow-[0_1px_2px_rgba(0,0,0,0.02)] z-10 flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-5",children:[c.jsx("div",{className:`w-3 h-3 rounded-full shadow-sm ring-1 ring-gray-200 ${q?"bg-gray-100":"bg-gray-800"}`}),c.jsxs("h2",{className:"text-xl font-medium text-gray-900 tracking-tight",children:[e.white.username," ",c.jsx("span",{className:"text-gray-400 font-light text-sm mx-1",children:e.white.rating}),c.jsx("span",{className:"mx-3 text-gray-300 font-light",children:"vs"}),e.black.username," ",c.jsx("span",{className:"text-gray-400 font-light text-sm mx-1",children:e.black.rating})]})]}),c.jsx("div",{className:"flex gap-3",children:c.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm font-medium text-gray-500 hover:text-gray-900 transition-colors px-3 py-2",children:["Chess.com ",c.jsx(I0,{className:"w-3 h-3"})]})})]}),c.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col lg:flex-row bg-gray-50",children:[c.jsx("div",{className:"flex-1 p-6 lg:p-10 flex flex-col items-center justify-center min-h-[400px] outline-none",onWheel:I,children:c.jsx("div",{className:"w-full max-w-[65vh] aspect-square shadow-2xl shadow-gray-300/50 rounded-sm border-[12px] border-white bg-white",children:c.jsx(cy,{position:r,boardOrientation:q?"white":"black",customDarkSquareStyle:{backgroundColor:"#b5c0d0"},customLightSquareStyle:{backgroundColor:"#f1f5f9"},arePiecesDraggable:!1,animationDuration:0,customSquareStyles:g})})}),c.jsxs("div",{className:"w-full lg:w-[400px] bg-white border-l border-gray-200 flex flex-col shadow-xl shadow-gray-200/50 z-10",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between bg-white flex-shrink-0",children:[c.jsxs("div",{className:"flex justify-center gap-1 flex-1",children:[c.jsx("button",{onClick:v,className:"p-3 rounded-lg hover:bg-gray-100 text-gray-400 hover:text-gray-900 transition-colors",title:"Start (ArrowUp)",children:c.jsx(j0,{className:"w-5 h-5"})}),c.jsx("button",{onClick:E,className:"p-3 rounded-lg hover:bg-gray-100 text-gray-400 hover:text-gray-900 transition-colors",title:"Previous (ArrowLeft / Scroll Up)",children:c.jsx(D0,{className:"w-5 h-5"})}),c.jsx("button",{onClick:M,className:"p-3 mx-2 rounded-xl bg-gray-900 hover:bg-black text-white transition-colors w-14 flex items-center justify-center shadow-md shadow-gray-200",title:u?"Pause (Space)":"Play (Space)",children:u?c.jsx(z0,{className:"w-5 h-5"}):c.jsx(F0,{className:"w-5 h-5 ml-0.5"})}),c.jsx("button",{onClick:D,className:"p-3 rounded-lg hover:bg-gray-100 text-gray-400 hover:text-gray-900 transition-colors",title:"Next (ArrowRight / Scroll Down)",children:c.jsx(N0,{className:"w-5 h-5"})}),c.jsx("button",{onClick:j,className:"p-3 rounded-lg hover:bg-gray-100 text-gray-400 hover:text-gray-900 transition-colors",title:"End (ArrowDown)",children:c.jsx(P0,{className:"w-5 h-5"})})]}),c.jsx("button",{onClick:()=>f(!d),className:"p-2 text-gray-400 hover:text-gray-900 transition-colors ml-2",title:d?"Unmute":"Mute",children:d?c.jsx(V0,{className:"w-5 h-5"}):c.jsx(W0,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-2 font-mono text-sm scroll-smooth",children:c.jsx("table",{className:"w-full border-collapse",children:c.jsx("tbody",{children:Array.from({length:Math.ceil(l.length/2)}).map((P,z)=>{var he,pe;const H=z+1,G=z*2,ae=z*2+1;return c.jsxs("tr",{className:"hover:bg-gray-50 transition-colors border-b border-gray-50 last:border-0",children:[c.jsxs("td",{className:"py-2 pl-4 w-12 text-gray-400 text-xs",children:[H,"."]}),c.jsx("td",{className:"py-1",children:c.jsx("button",{onClick:()=>p(G),className:`w-full text-left px-3 py-1.5 rounded-md transition-all flex items-center gap-2 ${o===G?"bg-gray-200 text-gray-900 font-bold":"text-gray-700 hover:bg-gray-100"}`,children:(he=l[G])==null?void 0:he.san})}),c.jsx("td",{className:"py-1 pr-2",children:ae<l.length&&c.jsx("button",{onClick:()=>p(ae),className:`w-full text-left px-3 py-1.5 rounded-md transition-all flex items-center gap-2 ${o===ae?"bg-gray-800 text-white font-bold shadow-md":"text-gray-700 hover:bg-gray-100"}`,children:(pe=l[ae])==null?void 0:pe.san})})]},z)})})})})]})]})]})},dy=()=>c.jsx("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-gray-50 text-gray-900",children:c.jsxs("div",{className:"relative flex flex-col items-center",children:[c.jsxs("div",{className:"mb-8 relative w-24 h-24 flex items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 bg-gray-200/50 rounded-full animate-ping opacity-20 duration-1000"}),c.jsx("svg",{viewBox:"0 0 45 45",className:"w-20 h-20 drop-shadow-lg animate-[bounce_1s_infinite_ease-in-out]",xmlns:"http://www.w3.org/2000/svg",children:c.jsxs("g",{fill:"#111827",fillRule:"evenodd",stroke:"#111827",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",strokeLinejoin:"miter",fill:"#111827"}),c.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",fill:"#111827"}),c.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",fill:"#f9fafb",stroke:"none"}),c.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1 14,15.5 A 0.5 1.5 0 1 1 15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",fill:"#f9fafb",stroke:"none"})]})})]}),c.jsx("h2",{className:"text-xl font-light tracking-[0.2em] uppercase text-gray-900 mb-2",children:"Fetching Games"}),c.jsxs("div",{className:"flex gap-1.5",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-[bounce_1.4s_infinite] [animation-delay:-0.32s]"}),c.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-[bounce_1.4s_infinite] [animation-delay:-0.16s]"}),c.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-[bounce_1.4s_infinite]"})]})]})}),hy="https://api.chess.com/pub",py=async(e,t)=>{const n=[],{startYear:r,startMonth:i,endYear:o,endMonth:s}=t,l=[];let a=r,u=i;const h=o*12+s;for(;a*12+u<=h;)l.push({year:a,month:u}),u++,u>12&&(u=1,a++);const d=l.map(async({year:y,month:m})=>{const w=m.toString().padStart(2,"0"),O=`${hy}/player/${e}/games/${y}/${w}`;try{const g=await fetch(O);if(!g.ok){if(g.status===404)return[];throw new Error(`Failed to fetch ${y}/${w}`)}return(await g.json()).games||[]}catch(g){return console.error(g),[]}});return(await Promise.all(d)).forEach(y=>n.push(...y)),n.sort((y,m)=>m.end_time-y.end_time)},gy=()=>{const[e,t]=_.useState([]),[n,r]=_.useState(null),[i,o]=_.useState(!1),[s,l]=_.useState(""),[a,u]=_.useState(!1),[h,d]=_.useState(!1),f=async(m,w,O)=>{o(!0),l(m),t([]),r(null),u(!0),d(!1);try{const p=(await py(m,w)).filter(v=>{if(O.opening&&!v.pgn.toLowerCase().includes(O.opening.toLowerCase()))return!1;if(O.result!=="all"){const D=v.white.username.toLowerCase()===m.toLowerCase()?v.white.result:v.black.result;if(O.result==="win"){if(D!=="win")return!1}else if(O.result==="loss"){if(!["checkmated","resigned","timeout","abandoned","lose"].includes(D))return!1}else if(O.result==="draw"){if(!["agreed","repetition","stalemate","insufficient","50move","timevsinsufficient"].includes(D))return!1}else if(D!==O.result)return!1}return!0});t(p)}catch(g){console.error("Error fetching games",g)}finally{o(!1)}},y=()=>{t([]),u(!1),r(null),l("")};return i?c.jsx(dy,{}):a?c.jsxs("div",{className:"h-screen flex flex-col md:flex-row bg-gray-50 relative overflow-hidden",children:[c.jsxs("div",{className:"md:hidden p-4 bg-white border-b border-gray-200 flex justify-between items-center z-30",children:[c.jsx("h1",{className:"font-semibold text-gray-900",children:"Chess Games Organizer"}),c.jsx("button",{onClick:()=>d(!h),className:"text-gray-600",children:h?c.jsx(K0,{}):c.jsx(A0,{})})]}),c.jsx("div",{className:`
        absolute md:relative z-20 top-0 left-0 h-full bg-white transition-transform duration-300 ease-in-out shadow-2xl md:shadow-none
        ${h?"translate-x-0 w-3/4":"-translate-x-full w-0"}
        md:translate-x-0 md:w-auto md:flex
      `,children:c.jsx(q0,{games:e,selectedGame:n,username:s,onSelectGame:m=>{r(m),d(!1)},onReset:y})}),h&&c.jsx("div",{className:"absolute inset-0 bg-gray-900/20 backdrop-blur-sm z-10 md:hidden",onClick:()=>d(!1)}),c.jsx(fy,{game:n,username:s})]}):c.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:c.jsx("div",{className:"z-10 w-full max-w-2xl",children:c.jsx(Q0,{onSearch:f,isLoading:i})})})};class my extends df.Component{constructor(){super(...arguments);re(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}render(){var n,r;return this.state.hasError?c.jsxs("div",{className:"p-8 text-center text-red-600 font-sans",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Something went wrong."}),c.jsxs("pre",{className:"bg-red-50 p-4 rounded text-sm text-left overflow-auto max-w-2xl mx-auto border border-red-200",children:[(n=this.state.error)==null?void 0:n.message,(r=this.state.error)==null?void 0:r.stack]}),c.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Reload App"})]}):this.props.children}}const $h=document.getElementById("root");if(!$h)throw new Error("Could not find root element to mount to");const vy=al.createRoot($h);vy.render(c.jsx(df.StrictMode,{children:c.jsx(my,{children:c.jsx(gy,{})})}));
